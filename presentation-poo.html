<!DOCTYPE html>
<!--
  Copyright 2010 Google Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)

  landslide modifications: Adam Zapletal (adamzap@gmail.com)
                           Nicolas Perriault (nperriault@gmail.com)
-->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>POO et Java</title>
    <!-- Styles -->
    
    <link rel="stylesheet" href="theme/css/base.css">
    <link rel="stylesheet" media="print" href="theme/css/print.css">
    <link rel="stylesheet" media="screen, projection" href="theme/css/screen.css">
    <link rel="stylesheet" media="all" href="theme/css/theme.css">
    
    
      
      <link rel="stylesheet" href="rst/jf.css">
      
    
    <!-- /Styles -->
    <!-- Javascripts -->
    
    <script type="text/javascript" src="theme/js/slides.js"></script>
    
    
    <!-- /Javascripts -->
</head>
<body>
  <div id="blank"></div>
  <div class="presentation">
    <div id="current_presenter_notes">
      <div id="presenter_note"></div>
    </div>
    <div class="slides">
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-1">
          <div class="inner">
            
            <header><h1>POO et Java</h1></header>
            
            
            <section><p><strong>Jean-Francois Lalande</strong> - September 2020 - Version 2</p>
<p>Ce cours traite des concepts de la programmation objets, illustrés principalement avec le langage Java, et parfois en Python.</p>
<!-- .. image:: /home/jf/CoursCS/android/rst/images/by-nc-sa.eu.png
:align: left
:width:  18% -->
<!-- Ce cours est mis à disposition par Jean-François Lalande selon les termes de la `licence <http://creativecommons.org/licenses/by-nc-sa/3.0/>`_ Creative Commons Attribution - Pas d'Utilisation Commerciale - Partage à l'Identique 3.0 non transposé. -->
<!-- Copyright |year| - Jean-François Lalande - Toute reproduction interdite. -->

<br />
<br />
<br />

<!-- .. image:: /home/jf/CoursCS/rst/images/insa.png
:align: right
:width:  34% -->
<img alt="/home/jf/CoursCS/rst/images/Logo_CentraleSupelec.png" class="align-right" src="/home/jf/CoursCS/rst/images/Logo_CentraleSupelec.png" style="width: 34%;" />
<!-- BREAKING and CHANGING TEMPLATE --></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              1/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-2">
          <div class="inner">
            
            <header><h1>1&nbsp;&nbsp;&nbsp;Plan</h1></header>
            
            
            <section><p class="topic-title first">Plan du module</p>
<ul class="auto-toc simple">
<li><a class="reference internal" href="#plan" id="id16">1&nbsp;&nbsp;&nbsp;Plan</a></li>
<li><a class="reference internal" href="#historique-et-syntaxe" id="id17">2&nbsp;&nbsp;&nbsp;Historique et syntaxe</a></li>
<li><a class="reference internal" href="#programmation-orientee-objet" id="id18">3&nbsp;&nbsp;&nbsp;Programmation orientée objet</a></li>
<li><a class="reference internal" href="#la-machine-virtuelle-java" id="id19">4&nbsp;&nbsp;&nbsp;La machine virtuelle Java</a></li>
<li><a class="reference internal" href="#specicites-du-langage-java" id="id20">5&nbsp;&nbsp;&nbsp;Spécicités du langage Java</a></li>
<li><a class="reference internal" href="#divers" id="id21">6&nbsp;&nbsp;&nbsp;Divers</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              2/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-3">
          <div class="inner">
            
            <header><h1>2&nbsp;&nbsp;&nbsp;Historique et syntaxe</h1></header>
            
            
            <section><ul class="simple">
<li><a class="reference internal" href="#bref-historique" id="id22">Bref historique</a></li>
<li><a class="reference internal" href="#la-syntaxe-en-3-minutes" id="id23">La syntaxe en 3 minutes</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              3/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-4">
          <div class="inner">
            
            <header><h2>Bref historique</h2></header>
            
            
            <section><ul class="simple">
<li>JDK 1.0 - 1996 - Init</li>
<li>JDK 1.1 - 1997 - Reflection, JDBC, Inner classes</li>
<li>JDK 1.2 - 1998 - Collection, JIT</li>
<li>J2SE 1.3 - 2000 - Java sound, JNDI, JPDA</li>
<li>J2SE 1.4 - 2002 - Assert, regex, exception chaining, parser XML, XSLT</li>
<li>J2SE 5 - 2004 - Generics, autoboxing, enums, varargs, for (x : X)</li>
<li>Java SE 6 - 2006 -</li>
<li>Java SE 7 - 2011 - Java NIO</li>
<li>Java SE 8 - 2014 - Lambdas</li>
<li>Java SE 9 - 2015 - Modules, JSON, HTTP/2</li>
<li>Java SE 10 - 2018 - compilateur JIT Graal</li>
<li>Java SE 11 - 2018 -</li>
<li>Java SE 12 - 2019 - Shenandoah: un ramasse miette à courtes pauses</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              4/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-5">
          <div class="inner">
            
            <header><h2>La syntaxe en 3 minutes</h2></header>
            
            
            <section><a class="reference external image-reference" href="images/Java-Cheat-Sheet-For-Programmers-Infographic.jpg"><img alt="images/java-sheet-print.png" src="images/java-sheet-print.png" style="width: 100%;" /></a></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              5/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-6">
          <div class="inner">
            
            <header><h1>3&nbsp;&nbsp;&nbsp;Programmation orientée objet</h1></header>
            
            
            <section><ul class="simple">
<li><a class="reference internal" href="#les-concepts-de-la-poo" id="id24">Les concepts de la POO</a></li>
<li><a class="reference internal" href="#l-objet" id="id25">L'objet</a></li>
<li><a class="reference internal" href="#la-classe" id="id26">La classe</a></li>
<li><a class="reference internal" href="#soi-meme-this-et-self" id="id27">Soi-même: this et self</a></li>
<li><a class="reference internal" href="#le-constructeur" id="id28">Le constructeur</a></li>
<li><a class="reference internal" href="#visibilite-et-masquage-des-donnees" id="id29">Visibilité et masquage des données</a></li>
<li><a class="reference internal" href="#la-composition" id="id30">La composition</a></li>
<li><a class="reference internal" href="#generalisation-et-specialisation" id="id31">Généralisation et spécialisation</a></li>
<li><a class="reference internal" href="#polymorphisme" id="id32">Polymorphisme</a></li>
<li><a class="reference internal" href="#references" id="id33">Références</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              6/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-7">
          <div class="inner">
            
            <header><h2>Les concepts de la POO</h2></header>
            
            
            <section><p>Organisation du code pour atteindre de nouveaux objectifs:</p>
<ul class="simple">
<li>proche d'une réalité métier</li>
<li>favoriser la réutilisabilité du code</li>
<li>favoriser la conception</li>
</ul>
<p>Basée sur quatre grands principes:</p>
<ul class="simple">
<li>l'encapsulation</li>
<li>le masquage des données</li>
<li>la composition</li>
<li>le polymorphisme</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              7/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-8">
          <div class="inner">
            
            <header><h2>L'objet</h2></header>
            
            
            <section><p>L'objet met en oeuvre le principe d'<strong>encapsulation</strong> et étend le concept de variable des langages non objets.</p>
<p><strong>Encapsulation</strong>: regrouper et masquer les données et programmes relatifs à un objet vis-à-vis des autres objets.</p>
<p>L'objet contient:</p>
<ul class="simple">
<li>des attributs typés (des variables)</li>
<li>des méthodes (du code)</li>
</ul>
<p>En UML, on représente l'objet ainsi:</p>
<img alt="images/objet.png" src="images/objet.png" style="width: 30%;" />
<p>D'un point de vue d'un programme qui s'exécute, un objet occupe une zone mémoire pour stocker ses attributs, et ses méthodes.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              8/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-9">
          <div class="inner">
            
            <header><h2>La classe</h2></header>
            
            
            <section><p>La <strong>classe</strong> est le modèle ou patron, qui permet de créer un objet.</p>
<p>En UML, on représente la classe ainsi:</p>
<img alt="images/classe.png" src="images/classe.png" style="width: 20%;" />
<p>Un objet est <strong>une instance</strong> de classe.</p>
<p>Conséquement:</p>
<ul class="simple">
<li>une classe contient des noms d'attributs mais pas de valeurs d'attributs</li>
<li>une classe contient le code des méthodes</li>
<li>l'objet peut se passer du code des méthodes</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              9/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-10">
          <div class="inner">
            
            <header><h3>Et en Java ?</h3></header>
            
            
            <section><p>Définition de la classe Vehicule:</p>
<pre class="code java literal-block">
<span class="keyword declaration">public</span> <span class="keyword declaration">class</span> <span class="name class">Vehicule</span> <span class="operator">{</span>

    <span class="keyword declaration">public</span> <span class="name">String</span> <span class="name">marque</span> <span class="operator">=</span> <span class="literal string">&quot;Peugeot&quot;</span><span class="operator">;</span>

    <span class="keyword declaration">public</span> <span class="keyword type">int</span> <span class="name function">demarrer</span><span class="operator">()</span> <span class="operator">{</span> <span class="keyword">return</span> <span class="literal number integer">0</span><span class="operator">;</span> <span class="operator">}</span>

<span class="operator">}</span>
</pre>
<p>Instanciation depuis le programme &quot;main&quot;:</p>
<pre class="code java literal-block">
<span class="keyword declaration">public</span> <span class="keyword declaration">class</span> <span class="name class">Main</span> <span class="operator">{</span>

    <span class="keyword declaration">public</span> <span class="keyword declaration">static</span> <span class="keyword type">void</span> <span class="name function">main</span><span class="operator">(</span><span class="name">String</span><span class="operator">[]</span> <span class="name">args</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="name">Vehicule</span> <span class="name">v</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="name">Vehicule</span><span class="operator">();</span>
        <span class="name">v</span><span class="operator">.</span><span class="name attribute">demarrer</span><span class="operator">();</span>
        <span class="name">System</span><span class="operator">.</span><span class="name attribute">out</span><span class="operator">.</span><span class="name attribute">println</span><span class="operator">(</span><span class="name">v</span><span class="operator">.</span><span class="name attribute">marque</span><span class="operator">);</span>
    <span class="operator">}</span>
<span class="operator">}</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              10/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-11">
          <div class="inner">
            
            <header><h3>Et en Python ?</h3></header>
            
            
            <section><p>C'est un peu le <a class="reference external" href="https://stackoverflow.com/questions/27481116/how-to-declare-a-static-attribute-in-python">bordel</a>:</p>
<pre class="code python literal-block">
<span class="keyword">class</span> <span class="name class">Vehicule</span><span class="punctuation">:</span>

  <span class="name">marque</span> <span class="operator">=</span> <span class="literal string double">&quot;Peugeot&quot;</span> <span class="comment single"># Static variable... but may used as an object attribute</span>

  <span class="keyword">def</span> <span class="name function">demarrer</span><span class="punctuation">(</span><span class="name builtin pseudo">self</span><span class="punctuation">):</span>
    <span class="keyword">return</span> <span class="literal number integer">0</span>

<span class="name">v</span> <span class="operator">=</span> <span class="name">Vehicule</span><span class="punctuation">()</span>
<span class="keyword">print</span><span class="punctuation">(</span><span class="literal string double">&quot;Vehicule.marque: &quot;</span> <span class="operator">+</span> <span class="name">Vehicule</span><span class="operator">.</span><span class="name">marque</span><span class="punctuation">)</span>
<span class="keyword">print</span><span class="punctuation">(</span><span class="literal string double">&quot;v.marque: &quot;</span> <span class="operator">+</span> <span class="name">v</span><span class="operator">.</span><span class="name">marque</span> <span class="operator">+</span> <span class="literal string double">&quot; -- WTF?&quot;</span><span class="punctuation">)</span>
<span class="name">v2</span> <span class="operator">=</span> <span class="name">Vehicule</span><span class="punctuation">()</span>
<span class="name">v2</span><span class="operator">.</span><span class="name">marque</span> <span class="operator">=</span> <span class="literal string double">&quot;Toyota&quot;</span>
<span class="keyword">print</span><span class="punctuation">(</span><span class="literal string double">&quot;v2.marque: &quot;</span> <span class="operator">+</span> <span class="name">v2</span><span class="operator">.</span><span class="name">marque</span><span class="punctuation">)</span>
<span class="keyword">print</span><span class="punctuation">(</span><span class="literal string double">&quot;v.marque: &quot;</span> <span class="operator">+</span> <span class="name">v</span><span class="operator">.</span><span class="name">marque</span><span class="punctuation">)</span>
</pre>
<pre><span></span>Vehicule.marque: Peugeot
v.marque: Peugeot -- WTF?
v2.marque: Toyota
v.marque: Peugeot
</pre>
<p><strong>Solution</strong>: utiliser <em>self</em> et un <em>constructeur</em> (cf. plus tard)</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              11/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-12">
          <div class="inner">
            
            <header><h2>Soi-même: this et self</h2></header>
            
            
            <section><p>Puisque on souhaite mettre en oeuvre l'encapsulation, c'est-à-dire distinguer ce qui est dans l'objet et extérieur à l'objet, les langages définissent un mot du langage désignant l'objet contenant le code qui s'exécute:</p>
<p>En Java: this</p>
<pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Vehicule</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="n">vitesse</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">demarrer</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">vitesse</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">vitesse</span><span class="o">;</span> <span class="o">}</span>
<span class="o">}</span>
</pre>
<p>En Python: self</p>
<pre><span></span><span class="k">class</span> <span class="nc">Vehicule</span><span class="p">:</span>
  <span class="n">demarrer</span><span class="p">():</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">vitesse</span> <span class="o">=</span> <span class="mi">0</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              12/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-13">
          <div class="inner">
            
            <header><h2>Le constructeur</h2></header>
            
            
            <section><p>Il s'agit de la méthode appelée lors de l'instanciation d'un objet. Son rôle est de:</p>
<ul class="simple">
<li>d'initialiser les attributs</li>
<li>de réaliser des actions obligatoires rendant l'objet viable</li>
</ul>
<p>En général on a trois grand types de constructeurs:</p>
<ul class="simple">
<li>le constructeur par défaut (sans paramètre)</li>
<li>le constructeur par <a class="reference external" href="https://www.journaldev.com/21078/copy-constructor-in-java">recopie</a> (1 paramètre du même type)</li>
<li>les constructeurs avec des tas de paramètres</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              13/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-14">
          <div class="inner">
            
            <header><h3>Et en Java ?</h3></header>
            
            
            <section><pre class="code java literal-block">
<span class="keyword declaration">public</span> <span class="keyword declaration">class</span> <span class="name class">Vehicule</span> <span class="operator">{</span>

    <span class="keyword declaration">public</span> <span class="name">String</span> <span class="name">marque</span> <span class="operator">=</span> <span class="keyword constant">null</span><span class="operator">;</span>
    <span class="keyword declaration">public</span> <span class="name">Moteur</span> <span class="name">m</span> <span class="operator">=</span> <span class="keyword constant">null</span><span class="operator">;</span>
    <span class="comment multiline">/* Constructeur par défaut */</span>
    <span class="keyword declaration">public</span> <span class="name function">Vehicule</span><span class="operator">()</span> <span class="operator">{</span> <span class="keyword">this</span><span class="operator">.</span><span class="name attribute">marque</span> <span class="operator">=</span> <span class="literal string">&quot;Peugeot&quot;</span><span class="operator">;</span> <span class="keyword">this</span><span class="operator">.</span><span class="name attribute">m</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="name">Moteur</span><span class="operator">();</span> <span class="operator">}</span>
    <span class="comment multiline">/* Constructeur sympa */</span>
    <span class="keyword declaration">public</span> <span class="name function">Vehicule</span><span class="operator">(</span><span class="name">String</span> <span class="name">marque</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">this</span><span class="operator">.</span><span class="name attribute">marque</span> <span class="operator">=</span> <span class="name">marque</span><span class="operator">;</span>
        <span class="keyword">this</span><span class="operator">.</span><span class="name attribute">m</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="name">Moteur</span><span class="operator">();</span>
    <span class="operator">}</span>
    <span class="comment multiline">/* Constructeur par recopie */</span>
    <span class="keyword declaration">public</span> <span class="name function">Vehicule</span><span class="operator">(</span><span class="name">Vehicule</span> <span class="name">v</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="comment single">// this.moteur = v.moteur; // Hérésie
</span>        <span class="keyword">this</span><span class="operator">.</span><span class="name attribute">m</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="name">Moteur</span><span class="operator">();</span> <span class="comment single">// Pas top, mais mieux
</span>        <span class="keyword">this</span><span class="operator">.</span><span class="name attribute">marque</span> <span class="operator">=</span> <span class="name">v</span><span class="operator">.</span><span class="name attribute">marque</span><span class="operator">;</span> <span class="comment single">// Possible et toléré car String immutable
</span>        <span class="keyword">this</span><span class="operator">.</span><span class="name attribute">marque</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="name">String</span><span class="operator">(</span><span class="name">v</span><span class="operator">.</span><span class="name attribute">marque</span><span class="operator">);</span>
    <span class="operator">}</span>
<span class="operator">}</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              14/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-15">
          <div class="inner">
            
            <header><h3>Et en Python ?</h3></header>
            
            
            <section><p>Pas de surcharge des constructeurs:</p>
<pre class="code python literal-block">
<span class="keyword">class</span> <span class="name class">Vehicule</span><span class="punctuation">:</span>

    <span class="keyword">def</span> <span class="name function magic">__init__</span><span class="punctuation">(</span><span class="name builtin pseudo">self</span><span class="punctuation">):</span>
        <span class="name builtin pseudo">self</span><span class="operator">.</span><span class="name">marque</span> <span class="operator">=</span> <span class="literal string double">&quot;Peugeot&quot;</span>

    <span class="keyword">def</span> <span class="name function magic">__init__</span><span class="punctuation">(</span><span class="name builtin pseudo">self</span><span class="punctuation">,</span> <span class="name">marque</span><span class="punctuation">):</span> <span class="comment single"># Vient d'écraser le constructeur précédent</span>
        <span class="name builtin pseudo">self</span><span class="operator">.</span><span class="name">marque</span> <span class="operator">=</span> <span class="name">marque</span>

<span class="comment single"># v = Vehicule() # Plante ! Pas de surcharge de constructeur !</span>
<span class="name">m2</span> <span class="operator">=</span> <span class="literal string double">&quot;Toyota&quot;</span>
<span class="name">v2</span> <span class="operator">=</span> <span class="name">Vehicule</span><span class="punctuation">(</span><span class="name">m2</span><span class="punctuation">)</span>
<span class="name">m3</span> <span class="operator">=</span> <span class="literal string double">&quot;Nissan&quot;</span>
<span class="name">v3</span> <span class="operator">=</span> <span class="name">Vehicule</span><span class="punctuation">(</span><span class="name">m3</span><span class="punctuation">)</span>
<span class="keyword">print</span><span class="punctuation">(</span><span class="literal string double">&quot;v2.marque: &quot;</span> <span class="operator">+</span> <span class="name">v2</span><span class="operator">.</span><span class="name">marque</span><span class="punctuation">)</span>
<span class="keyword">print</span><span class="punctuation">(</span><span class="literal string double">&quot;v3.marque: &quot;</span> <span class="operator">+</span> <span class="name">v3</span><span class="operator">.</span><span class="name">marque</span><span class="punctuation">)</span>
</pre>
<p>Output:</p>
<pre><span></span><span class="n">v2</span><span class="o">.</span><span class="n">marque</span><span class="p">:</span> <span class="n">Toyota</span>
<span class="n">v3</span><span class="o">.</span><span class="n">marque</span><span class="p">:</span> <span class="n">Nissan</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              15/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-16">
          <div class="inner">
            
            <header><h3>Retour sur le principe d'encapsulation</h3></header>
            
            
            <section><p>Encapsuler les données et le code permet d'améliorer la qualité du code, sa réutilisabilité et d'aider le prochain développeur dans sa compréhension de ce code.</p>
<p>Le but <a class="reference external" href="https://stackoverflow.com/questions/28612420/what-is-encapsulation-exactly">premier</a> de l'encapsulation est de <strong>grouper</strong> le code et les données dans une même classe pour éviter l'éparpillement du code qui traite ces données.</p>
<p>Cependant, l'encapsulation n'empêche nullement d'accèder aux données. On peut donc par inadvertance les modifier à loisir depuis l'extérieur de la classe. Pour éviter cela, on cherche donc à:</p>
<ul class="simple">
<li>masquer les données à ne pas exposer à ce risque</li>
<li>exposer les données que chacun peut lire/écrire</li>
</ul>
<p>On parle de <strong>visibilité</strong> et de <strong>masquage</strong> de données.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              16/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-17">
          <div class="inner">
            
            <header><h2>Visibilité et masquage des données</h2></header>
            
            
            <section><p>Certains langages proposent de définir une sorte de <strong>contrôle d'accès aux données</strong> de l'objet. Cela permet de:</p>
<ul class="simple">
<li>se poser des questions sur la visibilité des attributs et méthodes</li>
<li>se poser des questions sur le code:<ul>
<li>mécanique interne à l'objet ou pas ?</li>
<li>actions légitimes de l'utilisateur de l'objet ?</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              17/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-18">
          <div class="inner">
            
            <header><h3>La visibilité des attributs</h3></header>
            
            
            <section><p>Les langages orientés objets proposent généralement au moins deux niveaux de visibilité des attributs:</p>
<ul class="simple">
<li><strong>public</strong>: tout code peut y avoir accès</li>
<li><strong>private</strong>: seule le code de classe a un accès</li>
</ul>
<p>On trouve aussi la notion de visibilité &quot;package&quot;, &quot;module&quot; et &quot;amie&quot;:</p>
<ul class="simple">
<li><strong>package</strong> / <strong>module</strong>: une classe du même package, module a un accès</li>
<li><strong>protected</strong>: les sous-classes peuvent y avoir accès</li>
<li><strong>amie</strong>: une classe déclarée amie a un accès</li>
<li><strong>published</strong>: visible par tous et à conserver tel quel dans le futur</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              18/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-19">
          <div class="inner">
            
            <header><h3>Et en Java ?</h3></header>
            
            
            <section><ul class="simple">
<li><strong>private</strong>: non visible classes</li>
<li><strong>protected</strong>: comme public pour l'instant (cf. section héritage)</li>
<li><strong>public</strong>: visible pour tous</li>
</ul>
<img alt="images/visibility1.png" src="images/visibility1.png" style="width: 90%;" />
<p>cf <a class="reference external" href="https://stackoverflow.com/a/33627846/1156363">answer of aioobe about What is the difference between public, protected, package-private and private in Java?</a></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              19/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-20">
          <div class="inner">
            
            <header><h3>La visibilité des méthodes Java</h3></header>
            
            
            <section><p>Elle est identique aux règles de visibilité des attributs en Java.</p>
<pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Machin</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">f</span><span class="o">();</span>

  <span class="kd">private</span> <span class="kt">void</span> <span class="nf">g</span><span class="o">();</span>

<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Truc</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">h</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">Machin</span> <span class="n">m</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Machin</span><span class="o">();</span>
    <span class="n">m</span><span class="o">.</span><span class="na">f</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              20/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-21">
          <div class="inner">
            
            <header><h3>Et en Python ?</h3></header>
            
            
            <section><p>Les méthodes et attributs privées existent et son préfixés par un double underscore. Cependant, il n'y a pas de garantie du langage car on peut contourner la visibilité par introspection...</p>
<p>Par exemple, le programme suivant:</p>
<pre class="code java literal-block">
<span class="keyword declaration">class</span> <span class="name function">Toto</span><span class="operator">():</span>

  <span class="name">def</span> <span class="name function">test</span><span class="operator">(</span><span class="name">self</span><span class="operator">):</span>
    <span class="keyword">return</span> <span class="literal number integer">10</span><span class="operator">;</span>

  <span class="name">def</span> <span class="name function">__test2</span><span class="operator">(</span><span class="name">self</span><span class="operator">):</span>
    <span class="keyword">return</span> <span class="literal number integer">15</span><span class="operator">;</span>

<span class="keyword">if</span> <span class="name">__name__</span> <span class="operator">==</span> <span class="literal string">&quot;__main__&quot;</span><span class="operator">:</span>
  <span class="name">t</span> <span class="operator">=</span> <span class="name">Toto</span><span class="operator">()</span>
  <span class="name">print</span> <span class="name">t</span><span class="operator">.</span><span class="name attribute">test</span><span class="operator">();</span> <span class="error">#</span> <span class="name">Ok</span><span class="operator">,</span> <span class="name">that</span><span class="error">'</span><span class="name">s</span> <span class="keyword declaration">public</span>
  <span class="error">#</span><span class="name">print</span> <span class="name">t</span><span class="operator">.</span><span class="name attribute">test2</span><span class="operator">();</span> <span class="error">#</span> <span class="name">Not</span> <span class="name">ok</span><span class="operator">,</span> <span class="name">that</span><span class="error">'</span><span class="name">s</span> <span class="keyword declaration">private</span>
  <span class="name">print</span> <span class="name">t</span><span class="operator">.</span><span class="name attribute">_Toto__test2</span><span class="operator">();</span> <span class="error">#</span> <span class="name">Ok</span><span class="operator">,</span> <span class="name">too</span> <span class="operator">!</span>
</pre>
<p>écrit en console:</p>
<pre><span></span><span class="m">10</span>
<span class="m">15</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              21/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-22">
          <div class="inner">
            
            <header><h2>La composition</h2></header>
            
            
            <section><p>La composition permet de définir un lien entre deux classes. Il y a un lien fort entre les deux objets composés, à tel point que la destruction de l'un entraine la destruction de l'autre.</p>
<img alt="images/compo.png" src="images/compo.png" style="width: 60%;" />
<p>La cardinalité du composé (le moteur) est forcément de 1 maximum (pas de *  possible). Dans l'autre sens, on est libre car dans notre exemple, une voiture pourrait avoir plusieurs moteurs (une hybride par exemple).</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              22/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-23">
          <div class="inner">
            
            <header><h3>Implémentation</h3></header>
            
            
            <section><p>D'un point de vue de l'implémentation, on utilise tout simplement un attribut de type:</p>
<ul class="simple">
<li>référence simple: 0 à 1 objet composé</li>
<li>collection: 0 à * objets composés</li>
</ul>
<pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Voiture</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="n">Moteur</span> <span class="n">p</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

  <span class="n">Moteur</span> <span class="nf">getMoteur</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">p</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre>
<p>La destruction du moteur est automatique: elle est assurée par le <em>garbage collector</em> si la voiture est détruite.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              23/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-24">
          <div class="inner">
            
            <header><h3>L'agrégation</h3></header>
            
            
            <section><p>Une relaxation de la composition est l'agrégation: les entités sont liées mais ne s'appartiennent pas: on peut être agrégé à plusieurs classes différentes. Il n'y a pas de destruction automatique à implémenter quand on lie les objets par agrégation.</p>
<img alt="images/agrega.png" src="images/agrega.png" style="width: 60%;" />
<pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Personne</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="n">Vector</span><span class="o">&lt;</span><span class="n">Voiture</span><span class="o">&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="o">}</span>
</pre>
<p>L'agrégation n'a pas de sens: on peut agréger la voiture à la personne ou dans l'autre sens. Le choix dépend de l'implémentation: quel est l'objet qui sera manipulé à un plus haut niveau. Eventuellement, on peut agréger dans les deux sens, mais la cohérence de l'ensemble est plus difficile à maintenir: à éviter.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              24/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-25">
          <div class="inner">
            
            <header><h3>Et en python ?</h3></header>
            
            
            <section><p>Les concepts sont les mêmes, et on utilise des attributs de classe:</p>
<pre class="code python literal-block">
<span class="keyword">class</span> <span class="name class">Patient</span><span class="punctuation">:</span>

  <span class="name">name</span> <span class="operator">=</span> <span class="literal string double">&quot;Anonyme&quot;</span>

<span class="keyword">class</span> <span class="name class">Hopital</span><span class="punctuation">:</span>

  <span class="name">patients</span> <span class="operator">=</span> <span class="punctuation">[]</span>

  <span class="keyword">def</span> <span class="name function">putPatient</span><span class="punctuation">(</span><span class="name builtin pseudo">self</span><span class="punctuation">,</span> <span class="name">p</span><span class="punctuation">):</span>
    <span class="name builtin pseudo">self</span><span class="operator">.</span><span class="name">patients</span><span class="operator">.</span><span class="name">append</span><span class="punctuation">(</span><span class="name">p</span><span class="punctuation">)</span>

<span class="keyword">if</span> <span class="name variable magic">__name__</span> <span class="operator">==</span> <span class="literal string double">&quot;__main__&quot;</span><span class="punctuation">:</span>

  <span class="name">p</span> <span class="operator">=</span> <span class="name">Hopital</span><span class="punctuation">()</span>
  <span class="name">jf</span> <span class="operator">=</span> <span class="name">Patient</span><span class="punctuation">()</span>
  <span class="name">jf</span><span class="operator">.</span><span class="name">name</span> <span class="operator">=</span> <span class="literal string double">&quot;JF&quot;</span>
  <span class="name">fred</span> <span class="operator">=</span> <span class="name">Patient</span><span class="punctuation">()</span>
  <span class="name">fred</span><span class="operator">.</span><span class="name">name</span> <span class="operator">=</span> <span class="literal string double">&quot;Fred&quot;</span>
  <span class="name">p</span><span class="operator">.</span><span class="name">putPatient</span><span class="punctuation">(</span><span class="name">jf</span><span class="punctuation">)</span>
  <span class="name">p</span><span class="operator">.</span><span class="name">putPatient</span><span class="punctuation">(</span><span class="name">fred</span><span class="punctuation">)</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              25/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-26">
          <div class="inner">
            
            <header><h2>Généralisation et spécialisation</h2></header>
            
            
            <section><p>La généralisation et spécialisation de classe sont des mécanismes importants des langages orientés objets. Cela sert principalement à:</p>
<ul class="simple">
<li>factoriser du code dégagé de comportements généraux</li>
<li>forcer l'implémentation de comportement spécifiques</li>
</ul>
<p>D'un point de vue implémentatoire, on utilie l'héritage pour lier deux classes entre elle et on dit que &quot;A hérite de B&quot; ou bien que &quot;A est un B&quot;.</p>
<img alt="images/heritage.png" src="images/heritage.png" style="width: 20%;" /></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              26/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-27">
          <div class="inner">
            
            <header><h3>L'héritage multiple</h3></header>
            
            
            <section><p>Une classe peut éventuellement hériter de plusieurs classes: c'est l'héritage multiple. Supporté dans certains langages de programmation, ce n'est pas permis dans d'autres.</p>
<img alt="images/heritagem.png" src="images/heritagem.png" style="width: 40%;" />
<p>Notamment, cela pose des problèmes de:</p>
<ul class="simple">
<li>chainage d'appels dans les classes parentes (plusieurs chemins possibles)</li>
<li>chainage des constructeurs</li>
<li>cast</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              27/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-28">
          <div class="inner">
            
            <header><h3>Et donc en python ?</h3></header>
            
            
            <section><p>La résolution des méthodes en collision (<a class="reference external" href="https://stackoverflow.com/questions/3277367/how-does-pythons-super-work-with-multiple-inheritance">constructeur</a> compris) se fait de gauche à droite lors de l'héritage multiple:</p>
<pre class="code python literal-block">
<span class="keyword">class</span> <span class="name class">Vehicule</span><span class="punctuation">():</span>
    <span class="keyword">def</span> <span class="name function magic">__init__</span><span class="punctuation">(</span><span class="name builtin pseudo">self</span><span class="punctuation">):</span>
        <span class="keyword">print</span><span class="punctuation">(</span><span class="literal string double">&quot;Vehicule&quot;</span><span class="punctuation">)</span>
    <span class="keyword">def</span> <span class="name function">a</span><span class="punctuation">(</span><span class="name builtin pseudo">self</span><span class="punctuation">):</span>
        <span class="keyword">print</span><span class="punctuation">(</span><span class="literal string double">&quot;a&quot;</span><span class="punctuation">)</span>

<span class="keyword">class</span> <span class="name class">SigneDeRichesse</span><span class="punctuation">():</span>
    <span class="keyword">def</span> <span class="name function magic">__init__</span><span class="punctuation">(</span><span class="name builtin pseudo">self</span><span class="punctuation">):</span>
        <span class="keyword">print</span><span class="punctuation">(</span><span class="literal string double">&quot;La classe !&quot;</span><span class="punctuation">)</span>
    <span class="keyword">def</span> <span class="name function">b</span><span class="punctuation">(</span><span class="name builtin pseudo">self</span><span class="punctuation">):</span>
        <span class="keyword">print</span><span class="punctuation">(</span><span class="literal string double">&quot;b&quot;</span><span class="punctuation">)</span>
    <span class="keyword">def</span> <span class="name function">a</span><span class="punctuation">(</span><span class="name builtin pseudo">self</span><span class="punctuation">):</span>
        <span class="keyword">print</span><span class="punctuation">(</span><span class="literal string double">&quot;je suis riche !&quot;</span><span class="punctuation">)</span>

<span class="keyword">class</span> <span class="name class">Voiture</span><span class="punctuation">(</span><span class="name">Vehicule</span><span class="punctuation">,</span> <span class="name">SigneDeRichesse</span><span class="punctuation">):</span>
    <span class="keyword">def</span> <span class="name function magic">__init__</span><span class="punctuation">(</span><span class="name builtin pseudo">self</span><span class="punctuation">):</span>
        <span class="name builtin">super</span><span class="punctuation">(</span><span class="name">Voiture</span><span class="punctuation">,</span> <span class="name builtin pseudo">self</span><span class="punctuation">)</span><span class="operator">.</span><span class="name function magic">__init__</span><span class="punctuation">()</span>
        <span class="keyword">print</span><span class="punctuation">(</span><span class="literal string double">&quot;Voiture&quot;</span><span class="punctuation">)</span>

<span class="name">v</span> <span class="operator">=</span> <span class="name">Voiture</span><span class="punctuation">()</span>
<span class="name">v</span><span class="operator">.</span><span class="name">a</span><span class="punctuation">()</span>
<span class="name">v</span><span class="operator">.</span><span class="name">b</span><span class="punctuation">()</span>
</pre>
<p>Output: Vehicule Voiture a b</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              28/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-29">
          <div class="inner">
            
            <header><h3>Et donc pour Java, nada ?</h3></header>
            
            
            <section><p>Nada. Afin d'éviter le problème du diamant, Java n'autorise pas l'héritage multiple. Dans le problème du diamant, la super classe définit des méthodes qui existent ensuite pour A et B, peuvent être redéfinies, mais qui entrent en conflit pour la définition de C.</p>
<img alt="images/diamant.png" src="images/diamant.png" style="width: 30%;" />
<p>En fait, on a coutume de dire que dans Java on réalise l'héritage multiple en utilisant des <em>Interfaces</em>.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              29/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-30">
          <div class="inner">
            
            <header><h3>Interfaces</h3></header>
            
            
            <section><p>Une interface définit un contrat, en général sans code, qu'il faut implémenter pour une classe qui <em>implements</em> cette interface.</p>
<pre class="code java literal-block">
<span class="keyword declaration">interface</span> <span class="name class">Contrat1</span> <span class="operator">{</span>
    <span class="keyword declaration">public</span> <span class="keyword type">void</span> <span class="name function">g</span><span class="operator">(</span><span class="keyword type">double</span> <span class="name">i</span><span class="operator">);</span>
    <span class="keyword declaration">public</span> <span class="keyword type">void</span> <span class="name function">f</span><span class="operator">(</span><span class="keyword type">int</span> <span class="name">i</span><span class="operator">);</span>
<span class="operator">}</span>
</pre>
<pre class="code java literal-block">
<span class="keyword declaration">interface</span> <span class="name class">Contrat2</span> <span class="operator">{</span>
    <span class="keyword declaration">public</span> <span class="keyword type">void</span> <span class="name function">f</span><span class="operator">(</span><span class="keyword type">int</span> <span class="name">j</span><span class="operator">);</span>
<span class="operator">}</span>
</pre>
<pre class="code java literal-block">
<span class="keyword declaration">public</span> <span class="keyword declaration">class</span> <span class="name class">Test</span> <span class="keyword declaration">implements</span> <span class="name">Contrat1</span><span class="operator">,</span> <span class="name">Contrat2</span> <span class="operator">{</span>
    <span class="name decorator">&#64;Override</span>
    <span class="keyword declaration">public</span> <span class="keyword type">void</span> <span class="name function">g</span><span class="operator">(</span><span class="keyword type">double</span> <span class="name">i</span><span class="operator">)</span> <span class="operator">{</span> <span class="comment single">// ...
</span>    <span class="operator">}</span>
    <span class="name decorator">&#64;Override</span>
    <span class="keyword declaration">public</span> <span class="keyword type">void</span> <span class="name function">f</span><span class="operator">(</span><span class="keyword type">int</span> <span class="name">i</span><span class="operator">)</span> <span class="operator">{</span> <span class="comment single">// ...
</span>    <span class="operator">}</span>
<span class="operator">}</span>
</pre>
<p>Pas de collision possible ici: on respecte le contrat et il n'y a pas de chainage d'appel à faire.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              30/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-31">
          <div class="inner">
            
            <header><h3>Oui mais...</h3></header>
            
            
            <section><p>Dans Java 8, on peut mettre du code dans les interfaces (à l'aide du mot clef <em>default</em>) ! Diable !</p>
<p>Il n'y a pas de problème pour la signature de la méthode, mais plutôt pour appeler l'implémentation faite dans l'interface depuis la classe. La solution est de nommer l'interface avant le mot clef <em>super</em>.</p>
<pre class="code java literal-block">
<span class="keyword declaration">interface</span> <span class="name class">Contrat1J8</span> <span class="operator">{</span>
    <span class="keyword declaration">public</span> <span class="keyword type">void</span> <span class="name function">g</span><span class="operator">(</span><span class="keyword type">double</span> <span class="name">i</span><span class="operator">);</span>
    <span class="keyword">default</span> <span class="keyword type">void</span> <span class="name function">f</span><span class="operator">(</span><span class="keyword type">int</span> <span class="name">i</span><span class="operator">)</span> <span class="operator">{</span><span class="name">System</span><span class="operator">.</span><span class="name attribute">out</span><span class="operator">.</span><span class="name attribute">println</span><span class="operator">(</span><span class="literal string">&quot;f - contrat1&quot;</span><span class="operator">);}</span>
<span class="operator">}</span>
</pre>
<pre class="code java literal-block">
<span class="keyword declaration">interface</span> <span class="name class">Contrat2J8</span> <span class="operator">{</span>
    <span class="keyword declaration">public</span> <span class="keyword type">void</span> <span class="name function">f</span><span class="operator">(</span><span class="keyword type">int</span> <span class="name">j</span><span class="operator">);</span>
<span class="operator">}</span>
</pre>
<pre class="code java literal-block">
<span class="keyword declaration">public</span> <span class="keyword declaration">class</span> <span class="name class">TestJ8</span> <span class="keyword declaration">implements</span> <span class="name">Contrat1J8</span><span class="operator">,</span> <span class="name">Contrat2J8</span> <span class="operator">{</span>
    <span class="name decorator">&#64;Override</span>
    <span class="keyword declaration">public</span> <span class="keyword type">void</span> <span class="name function">g</span><span class="operator">(</span><span class="keyword type">double</span> <span class="name">i</span><span class="operator">)</span> <span class="operator">{</span> <span class="comment single">// ...
</span>    <span class="operator">}</span>
    <span class="name decorator">&#64;Override</span>
    <span class="keyword declaration">public</span> <span class="keyword type">void</span> <span class="name function">f</span><span class="operator">(</span><span class="keyword type">int</span> <span class="name">i</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="name">Contrat1J8</span><span class="operator">.</span><span class="name attribute">super</span><span class="operator">.</span><span class="name attribute">f</span><span class="operator">(</span><span class="literal number integer">6</span><span class="operator">);</span>
    <span class="operator">}</span>
<span class="operator">}</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              31/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-32">
          <div class="inner">
            
            <header><h3>Généralisation concrète ou abstraite</h3></header>
            
            
            <section><p>Lorsqu'on généralise une classe par héritage, la classe parente est dite &quot;concrète&quot; ou &quot;abstraite&quot;. Une classe concrète est instantiable, c'est-à-dire que créer un objet de ce type a un sens pour le modèle. Une classe abstraite est une classe dont on ne pourra jamais faire d'instance. Dans les exemples précédents, Vehicule aurait dû être une classe abstraite, car on ne peut pas construire de véhicule de type Vehicule.</p>
<pre class="code java literal-block">
<span class="keyword declaration">public</span> <span class="keyword declaration">abstract</span> <span class="keyword declaration">class</span> <span class="name class">AVehicule</span> <span class="operator">{</span>
    <span class="keyword declaration">abstract</span> <span class="keyword type">void</span> <span class="name function">f</span><span class="operator">();</span>
    <span class="keyword type">void</span> <span class="name function">g</span><span class="operator">()</span> <span class="operator">{</span> <span class="name">System</span><span class="operator">.</span><span class="name attribute">out</span><span class="operator">.</span><span class="name attribute">println</span><span class="operator">(</span><span class="literal string">&quot;Implemented&quot;</span><span class="operator">);}</span>
<span class="operator">}</span>
</pre>
<pre class="code java literal-block">
<span class="keyword declaration">public</span> <span class="keyword declaration">class</span> <span class="name class">Voiture</span> <span class="keyword declaration">extends</span> <span class="name">AVehicule</span> <span class="operator">{</span>
    <span class="name decorator">&#64;Override</span>
    <span class="keyword type">void</span> <span class="name function">f</span><span class="operator">()</span> <span class="operator">{</span>
        <span class="comment single">// Should be implemented
</span>    <span class="operator">}</span>
<span class="operator">}</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              32/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-33">
          <div class="inner">
            
            <header><h3>Extension et restriction</h3></header>
            
            
            <section><p>Lorsqu'on réalise un héritage, on souhaite factoriser du code (généralisation). Mais parfois, on souhaite spécialiser la classe, lui ajouter un comportement particulier: on parle d'<strong>extension</strong>. Cela signifie:</p>
<ul class="simple">
<li>ajouter des attributs</li>
<li>ajouter des méthodes</li>
<li>changer l'implémentation de la méthode parente</li>
</ul>
<p>Parfois, on souhaite faire l'inverse: restreindre les capacités d'une classe, car dans la classe fille, ces capacités n'ont plus de sens: on parle de <strong>restriction</strong>. En général, c'est à éviter mais cela peut avoir un sens: une méthode restreinte peut par exemple ne plus être valide dans la classe fille: on peut par exemple y lever une exception. Par exemple, si on a une classe Forme avec une méthode tourner(), on peut dire que cette méthode n'est plus utile pour Cercle.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              33/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-34">
          <div class="inner">
            
            <header><h3>Bilan</h3></header>
            
            
            <section><ul class="simple">
<li>héritage d'une classe<ul>
<li>pas d'héritage multiple</li>
<li>la méthode héritée n'est pas à réécrire</li>
</ul>
</li>
<li>implémentation d'une interface<ul>
<li>implémentation multiple: pas de collision de méthodes</li>
<li>la méthode implémentée est à réécrire même si une implémentation existe dans l'interface</li>
</ul>
</li>
<li>généralisation<ul>
<li>classe parente abstraite ou concrête</li>
<li>par extension ou restriction</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              34/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-35">
          <div class="inner">
            
            <header><h2>Polymorphisme</h2></header>
            
            
            <section><p>Le polymorphisme (poly morph) est la capacité d'un langage à considérer un objet sous plusieurs formes et d'agir en conséquence, notamment lors d'appels de méthodes. Cela est rendu possible par la notion d'héritage. La relation &quot;est un&quot; permet à un objet d'être à la fois son type, ou le type d'une classe parente, voire d'une inteface.</p>
<p>Pour rendre l'objet polymorphe, on parle:</p>
<ul class="simple">
<li>du <em>cast</em> d'un objet: (Type) o</li>
<li>de généralisation lorsqu'on <em>upcast</em></li>
<li>de spécialisation lorsqu'on <em>downcat</em></li>
</ul>
<pre><span></span><span class="n">Voiture</span> <span class="n">vo</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Voiture</span><span class="o">();</span>
<span class="n">Vehicule</span> <span class="n">ve</span> <span class="o">=</span> <span class="o">(</span><span class="n">Vehicule</span><span class="o">)</span><span class="n">vo</span><span class="o">;</span> <span class="c1">// upcast</span>
</pre>
<p>Upcaster n'est jamais dangereux, mais à l'inverse un <em>downcast</em> peut lever une exception.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              35/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-36">
          <div class="inner">
            
            <header><h3>Polymorphisme</h3></header>
            
            
            <section><p>On parle de polymorphisme au <em>runtime</em> parce que la nature des objets n'est connue qu'à l'exécution. La résolution de la bonne méthode à appeler est donc effectuée à l'exécution. Par exemple, on peut écrire un algorithme utilisant des Vehicule et appelant démarrer, et à l'exécution exécuter l'algorithme sur une Voiture.</p>
<img alt="images/polymorphisme.png" src="images/polymorphisme.png" style="width: 60%;" /></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              36/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-37">
          <div class="inner">
            
            <header><h3>Polymorphisme au runtime</h3></header>
            
            
            <section><p>Les règles suivantes s'appliquent en Java:</p>
<ul class="simple">
<li>Dynamic Method Dispatch: la méthode la plus spécialisée est exécutée</li>
<li>Data member: on récupère la donnée du niveau considéré</li>
</ul>
<pre class="code java literal-block">
<span class="comment multiline">/**
 * (Exemple de &quot;Java en concentré&quot;, D. Flanagan)
 */</span>
<span class="keyword declaration">public</span> <span class="keyword declaration">class</span> <span class="name class">HeritageA</span> <span class="operator">{</span>
    <span class="keyword type">int</span> <span class="name">i</span> <span class="operator">=</span> <span class="literal number integer">1</span><span class="operator">;</span>
    <span class="keyword type">int</span> <span class="name function">f</span><span class="operator">()</span> <span class="operator">{</span> <span class="keyword">return</span> <span class="name">i</span><span class="operator">;</span> <span class="operator">}</span>
    <span class="keyword declaration">static</span> <span class="keyword type">char</span> <span class="name function">g</span><span class="operator">()</span> <span class="operator">{</span> <span class="keyword">return</span> <span class="literal string char">'A'</span><span class="operator">;</span> <span class="operator">}</span>
<span class="operator">}</span>
</pre>
<pre class="code java literal-block">
<span class="comment multiline">/**
 * Une classe B héritant de A.
 ∗ (Exemple de &quot;Java en concentré&quot;, D. Flanagan)
 */</span>
<span class="keyword declaration">public</span> <span class="keyword declaration">class</span> <span class="name class">HeritageB</span> <span class="keyword declaration">extends</span> <span class="name">HeritageA</span> <span class="operator">{</span>
    <span class="keyword type">int</span> <span class="name">i</span> <span class="operator">=</span> <span class="literal number integer">2</span><span class="operator">;</span> <span class="comment single">// Masque le champ i de A
</span>    <span class="keyword type">int</span> <span class="name function">f</span><span class="operator">()</span> <span class="operator">{</span> <span class="keyword">return</span> <span class="operator">-</span><span class="name">i</span><span class="operator">;</span> <span class="operator">}</span> <span class="comment single">// Redéfinit la méthode f de A
</span>    <span class="keyword declaration">static</span> <span class="keyword type">char</span> <span class="name function">g</span><span class="operator">()</span> <span class="operator">{</span> <span class="keyword">return</span> <span class="literal string char">'B'</span><span class="operator">;</span> <span class="operator">}</span> <span class="comment single">// Masque la méthode de classe de A
</span><span class="operator">}</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              37/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-38">
          <div class="inner">
            
            
            <section><pre class="code java literal-block">
<span class="keyword declaration">public</span> <span class="keyword declaration">class</span> <span class="name class">PolymorphismeAB</span> <span class="operator">{</span>
    <span class="keyword declaration">public</span> <span class="keyword declaration">static</span> <span class="keyword type">void</span> <span class="name function">main</span><span class="operator">(</span><span class="name">String</span><span class="operator">[]</span> <span class="name">args</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="name">HeritageB</span> <span class="name">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="name">HeritageB</span><span class="operator">();</span>
        <span class="name">System</span><span class="operator">.</span><span class="name attribute">out</span><span class="operator">.</span><span class="name attribute">println</span><span class="operator">(</span><span class="literal string">&quot;b.i: &quot;</span> <span class="operator">+</span> <span class="name">b</span><span class="operator">.</span><span class="name attribute">i</span><span class="operator">);</span>
        <span class="name">System</span><span class="operator">.</span><span class="name attribute">out</span><span class="operator">.</span><span class="name attribute">println</span><span class="operator">(</span><span class="literal string">&quot;b.f(): &quot;</span> <span class="operator">+</span> <span class="name">b</span><span class="operator">.</span><span class="name attribute">f</span><span class="operator">());</span>
        <span class="name">System</span><span class="operator">.</span><span class="name attribute">out</span><span class="operator">.</span><span class="name attribute">println</span><span class="operator">(</span><span class="literal string">&quot;b.g(): &quot;</span> <span class="operator">+</span> <span class="name">b</span><span class="operator">.</span><span class="name attribute">g</span><span class="operator">());</span>
        <span class="name">System</span><span class="operator">.</span><span class="name attribute">out</span><span class="operator">.</span><span class="name attribute">println</span><span class="operator">(</span><span class="literal string">&quot;HB.g(): &quot;</span> <span class="operator">+</span> <span class="name">HeritageB</span><span class="operator">.</span><span class="name attribute">g</span><span class="operator">());</span>
        <span class="name">HeritageA</span> <span class="name">a</span> <span class="operator">=</span> <span class="operator">(</span><span class="name">HeritageA</span><span class="operator">)</span><span class="name">b</span><span class="operator">;</span>
        <span class="name">System</span><span class="operator">.</span><span class="name attribute">out</span><span class="operator">.</span><span class="name attribute">println</span><span class="operator">(</span><span class="literal string">&quot;a.i: &quot;</span> <span class="operator">+</span> <span class="name">a</span><span class="operator">.</span><span class="name attribute">i</span><span class="operator">);</span>
        <span class="name">System</span><span class="operator">.</span><span class="name attribute">out</span><span class="operator">.</span><span class="name attribute">println</span><span class="operator">(</span><span class="literal string">&quot;a.f(): &quot;</span> <span class="operator">+</span> <span class="name">a</span><span class="operator">.</span><span class="name attribute">f</span><span class="operator">());</span>
        <span class="name">System</span><span class="operator">.</span><span class="name attribute">out</span><span class="operator">.</span><span class="name attribute">println</span><span class="operator">(</span><span class="literal string">&quot;a.g(): &quot;</span> <span class="operator">+</span> <span class="name">a</span><span class="operator">.</span><span class="name attribute">g</span><span class="operator">());</span>
        <span class="comment single">// System.out.println(&quot;(super)b.f(): &quot; + b.super.f()); // impossible
</span>        <span class="comment single">// https://stackoverflow.com/questions/6386343
</span>    <span class="operator">}</span>
<span class="operator">}</span>
</pre>
<p>qui donne à l'exécution:</p>
<pre><span></span>b.i: <span class="m">2</span>
b.f<span class="o">()</span>: -2
b.g<span class="o">()</span>: B
HB.g<span class="o">()</span>: B
a.i: <span class="m">1</span>
a.f<span class="o">()</span>: -2
a.g<span class="o">()</span>: A
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              38/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-39">
          <div class="inner">
            
            <header><h3>Finalement</h3></header>
            
            
            <section><p>Dernier point, le mot clef <strong>final</strong>.</p>
<p>Il permet de protéger l'accès à des éléments d'une classe dans le cas d'une spécialisation de celle-ci:</p>
<ul class="simple">
<li>méthode finale: on ne peut redéfinir cette méthode dans la classe fille</li>
<li>classe finale: on ne peut hériter de cette classe</li>
</ul>
<p>Petite confusion possible avec une variable <em>final</em>:</p>
<ul class="simple">
<li>une variable de type simple <em>final</em> ne peut être modifiée</li>
<li>une référence <em>final</em> vers un objet ne peut être modifié</li>
</ul>
<p>Cela n'a pas grand chose à voir avec une classe ou une méthode <em>final</em>.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              39/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-40">
          <div class="inner">
            
            
            <section><pre class="code java literal-block">
<span class="keyword declaration">public</span> <span class="keyword declaration">class</span> <span class="name class">Homme</span> <span class="operator">{</span>
    <span class="keyword declaration">private</span> <span class="name">String</span> <span class="name">nom</span><span class="operator">;</span>
    <span class="keyword declaration">protected</span> <span class="name">String</span> <span class="name">poches</span><span class="operator">;</span>
    <span class="keyword declaration">public</span> <span class="keyword type">int</span> <span class="name">richesse</span><span class="operator">;</span>
    <span class="keyword declaration">public</span> <span class="name function">Homme</span><span class="operator">(</span><span class="name">String</span> <span class="name">naissance</span><span class="operator">){</span>
        <span class="name">nom</span> <span class="operator">=</span> <span class="name">naissance</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword declaration">protected</span> <span class="keyword type">void</span> <span class="name function">remplirPoches</span><span class="operator">(</span><span class="name">String</span> <span class="name">s</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="name">poches</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="name">String</span><span class="operator">(</span><span class="name">s</span><span class="operator">);</span>
    <span class="operator">}</span>
  <span class="operator">}</span>
</pre>
<pre class="code java literal-block">
<span class="comment multiline">/** Appel aux méthodes/attributs parents et méthodes finales. */</span>
<span class="keyword declaration">public</span> <span class="keyword declaration">class</span> <span class="name class">SDF</span> <span class="keyword declaration">extends</span> <span class="name">Homme</span> <span class="operator">{</span>
    <span class="comment single">// Redéfinition
</span>    <span class="keyword declaration">public</span> <span class="keyword type">int</span> <span class="name">richesse</span><span class="operator">;</span>
    <span class="keyword declaration">public</span> <span class="keyword declaration">final</span> <span class="keyword type">int</span> <span class="name">num_secu_social</span><span class="operator">;</span>

    <span class="keyword declaration">public</span> <span class="name function">SDF</span><span class="operator">(</span><span class="name">String</span> <span class="name">naissance</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword declaration">super</span><span class="operator">(</span><span class="name">naissance</span><span class="operator">);</span>
        <span class="name">num_secu_social</span> <span class="operator">=</span> <span class="literal number integer">179</span><span class="operator">;</span>
        <span class="name">num_secu_social</span> <span class="operator">=</span> <span class="literal number integer">12</span><span class="operator">;</span> <span class="comment single">// impossible
</span>    <span class="operator">}</span>

    <span class="keyword declaration">final</span> <span class="keyword declaration">protected</span> <span class="keyword type">void</span> <span class="name function">remplirPoches</span><span class="operator">(</span><span class="name">String</span> <span class="name">s</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword declaration">super</span><span class="operator">.</span><span class="name attribute">richesse</span> <span class="operator">=</span> <span class="literal number integer">0</span><span class="operator">;</span>
        <span class="name">richesse</span> <span class="operator">=</span> <span class="literal number integer">0</span><span class="operator">;</span>
        <span class="name">poches</span> <span class="operator">=</span> <span class="literal string">&quot;&quot;</span><span class="operator">;</span>
    <span class="operator">}</span>
<span class="operator">}</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              40/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-41">
          <div class="inner">
            
            
            <section><pre class="code java literal-block">
<span class="comment multiline">/**
 *La redéfinition de remplirPoches est impossible à cause du final.
 */</span>
<span class="keyword declaration">public</span> <span class="keyword declaration">class</span> <span class="name class">SDF2</span> <span class="keyword declaration">extends</span> <span class="name">SDF</span> <span class="operator">{</span>
    <span class="keyword declaration">public</span> <span class="keyword type">int</span> <span class="name">num_secu_social</span><span class="operator">;</span> <span class="comment single">// possible !
</span>    <span class="keyword declaration">private</span> <span class="name">String</span> <span class="name">habitation</span> <span class="operator">=</span> <span class="literal string">&quot;carton&quot;</span><span class="operator">;</span> <span class="comment single">// implicitement final
</span>    <span class="keyword declaration">public</span> <span class="name function">SDF2</span><span class="operator">(</span><span class="name">String</span> <span class="name">naissance</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword declaration">super</span><span class="operator">(</span><span class="name">naissance</span><span class="operator">);</span>
        <span class="keyword declaration">super</span><span class="operator">.</span><span class="name attribute">num_secu_social</span> <span class="operator">=</span> <span class="literal number integer">0</span><span class="operator">;</span> <span class="comment single">// impossible !
</span>        <span class="name">num_secu_social</span> <span class="operator">=</span> <span class="literal number integer">0</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword declaration">protected</span> <span class="keyword type">void</span> <span class="name function">remplirPoches</span><span class="operator">(</span><span class="name">String</span> <span class="name">s</span><span class="operator">)</span> <span class="operator">{</span> <span class="comment single">// impossible !
</span>        <span class="keyword declaration">super</span><span class="operator">.</span><span class="name attribute">remplirPoches</span><span class="operator">(</span><span class="name">s</span> <span class="operator">+</span> <span class="literal string">&quot; + 1 euro.&quot;</span><span class="operator">);</span>
    <span class="operator">}</span>
<span class="operator">}</span>
</pre>
<ul class="simple">
<li>la modification du champs parent num_seu_social est impossible car <em>final</em></li>
<li>la méthode remplirPoches(String) est devenue <em>final</em> et donc non redéfinissable</li>
<li>dans SDF, seule une affectation dans le constructeur est possible</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              41/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-42">
          <div class="inner">
            
            <header><h3>La classe spéciale Object</h3></header>
            
            
            <section><p>En Java, toute classe hérite de Object.</p>
<ul class="simple">
<li>sans héritage, le <em>extends Object</em> est implicite</li>
<li>avec héritage, la dernière classe parente hérite de <em>Object</em></li>
</ul>
<p>Les méthodes de la classe Object sont les suivantes:</p>
<img alt="images/object_methods.png" src="images/object_methods.png" style="width: 100%;" /></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              42/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-43">
          <div class="inner">
            
            <header><h3>Retour sur la visibilité</h3></header>
            
            
            <section><img alt="images/visibility2.png" src="images/visibility2.png" style="width: 90%;" /></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              43/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-44">
          <div class="inner">
            
            <header><h2>Références</h2></header>
            
            
            <section><p>Quelques liens utiles:</p>
<ul class="simple">
<li><a class="reference external" href="https://www.uml-diagrams.org/generalization.html">https://www.uml-diagrams.org/generalization.html</a></li>
<li><a class="reference external" href="https://www.geeksforgeeks.org/java-and-multiple-inheritance/">https://www.geeksforgeeks.org/java-and-multiple-inheritance/</a></li>
<li><a class="reference external" href="https://www.geeksforgeeks.org/oops-generalization-as-extension-and-restriction-using-java/">https://www.geeksforgeeks.org/oops-generalization-as-extension-and-restriction-using-java/</a></li>
<li><a class="reference external" href="https://www.geeksforgeeks.org/generalization-and-specialization-in-java/">https://www.geeksforgeeks.org/generalization-and-specialization-in-java/</a></li>
<li><a class="reference external" href="http://d.martg.pagesperso-orange.fr/la.htm">http://d.martg.pagesperso-orange.fr/la.htm</a></li>
</ul>
<p>Codes source:</p>
<p><a class="reference external" href="https://github.com/jflalande/Heritage">https://github.com/jflalande/Heritage</a></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              44/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-45">
          <div class="inner">
            
            <header><h1>4&nbsp;&nbsp;&nbsp;La machine virtuelle Java</h1></header>
            
            
            <section><ul class="simple">
<li><a class="reference internal" href="#machine-virtuelle-java" id="id34">Machine virtuelle Java</a></li>
<li><a class="reference internal" href="#le-bytecode" id="id35">Le bytecode</a></li>
<li><a class="reference internal" href="#chargement-dynamique-de-code" id="id36">Chargement dynamique de code</a></li>
<li><a class="reference internal" href="#packages-et-modules" id="id37">Packages et modules</a></li>
<li><a class="reference internal" href="#les-modules" id="id38">Les modules</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              45/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-46">
          <div class="inner">
            
            <header><h2>Machine virtuelle Java</h2></header>
            
            
            <section><p>La machine virtuelle travaille sur le <em>bytecode</em>, en général obtenu à partir de fichiers sources Java. Elle interprète le <em>bytecode</em> contenu dans les .class ou .jar. Elle peut aussi les compiler à la volée (<em>just-in-time</em> compiler, JIT).
La plupart des machines virtuelles modernes peuvent interpréter ou compiler le
<em>bytecode</em>. Enfin, certains outils permettent de compiler du <em>bytecode</em> en code natif.</p>
<p>A la différence des langages classiques <em>write once, compile anywhere</em>, le
langage Java est du type <em>compile once, run anywhere</em>. Le code compilé, le
<em>bytecode</em> peut être exécuté indifférement sur une machine virtuelle
implémentée pour fonctionner sur Windows, Linux, Android, etc...</p>
<p>Liste non exhaustive de quelques machines virtuelles:</p>
<ul class="simple">
<li>Sun Microsystems</li>
<li>GNU Compiler for the Java Programming Language</li>
<li>IBM</li>
<li>...</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              46/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-47">
          <div class="inner">
            
            <header><h2>Le bytecode</h2></header>
            
            
            <section><p>Le <em>bytecode</em> est une séquence d'instruction pour la machine virtuelle. La
JVM stocke pour chaque classe chargée le flot de bytecode associé à chaque
méthode.
Une méthode peut être par exemple constituée du flot ci-dessous <a href="#id41"><span class="problematic" id="id9">[BB]_</span></a>:</p>
<pre><span></span>// Bytecode stream: 03 3b 84 00 01 1a 05 68 3b a7 ff f9
// Disassembly:
iconst_0      // 03
istore_0      // 3b
iinc 0, 1     // 84 00 01
iload_0       // 1a
iconst_2      // 05
imul          // 68
istore_0      // 3b
goto -7       // a7 ff f9
</pre>
<p>Le nombre d'<em>opcodes</em> est petit ce qui permet de faire tenir tous les
<em>opcodes</em> sur un octet.
Brièvement, voici une liste des opcodes:</p>
<ul class="simple">
<li><strong>iconst_X</strong>: empiler la constante X sur la pile</li>
<li><strong>iload_X</strong>: empiler la variable locale n°X</li>
<li><strong>istore_X</strong>: dépiler un entier et le stocker dans la variable locale n°X</li>
<li><strong>i2f</strong>: convertir un int en float</li>
<li><strong>iadd, imul, iinc...</strong>: opérations arithmétiques</li>
<li><strong>ireturn</strong>: retourne le résultat</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              47/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-48">
          <div class="inner">
            
            <header><h3>Example de code source et de bytecode</h3></header>
            
            
            <section><p>Voici un extrait tiré de <a href="#id42"><span class="problematic" id="id10">[BB]_</span></a>:</p>
<pre><span></span><span class="kt">byte</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
<span class="kt">byte</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
<span class="kt">byte</span> <span class="n">c</span> <span class="o">=</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">);</span>
<span class="k">return</span> <span class="n">c</span><span class="o">;</span>
</pre>
<p>Qui se retrouve compilé sous la forme:</p>
<pre><span></span>iconst_1  // Push int constant 1.
istore_1  // Pop into local variable 1, which is a: byte a = 1;
iconst_1  // Push int constant 1 again.
istore_2  // Pop into local variable 2, which is b: byte b = 1;
iload_1   // Push a (a is already stored as an int in local variable 1).
iload_2   // Push b (b is already stored as an int in local variable 2).
iadd      // Perform addition. Top of stack is now (a + b), an int.
int2byte  // Convert int result to byte (result still occupies 32 bits).
istore_3  // Pop into local variable 3, which is byte c: byte c = (byte) (a + b);
iload_3   // Push the value of c so it can be returned.
ireturn   // Proudly return the result of the addition: return c;
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              48/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-49">
          <div class="inner">
            
            <header><h3>Decompilation à l'aide de l'outil javap</h3></header>
            
            
            <section><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Decompilation</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="nf">test</span><span class="o">()</span> <span class="o">{</span>
      <span class="kt">byte</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
      <span class="kt">byte</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
      <span class="kt">byte</span> <span class="n">c</span> <span class="o">=</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">);</span>
      <span class="k">return</span> <span class="n">c</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">Decompilation</span> <span class="n">d</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Decompilation</span><span class="o">();</span>
      <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="na">test</span><span class="o">();</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Out: &quot;</span> <span class="o">+</span> <span class="n">res</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre>
<p>La décompilation peut se faire à l'aide de l'outil <strong>javap</strong>:</p>
<pre><span></span>javap -c -private Decompilation
</pre>
<ul class="simple">
<li>-public: Shows only public classes and members.</li>
<li>-protected: Shows only protected and public classes and members.</li>
<li>-package: Shows  only  package,  protected, and public classes and members.</li>
<li>-private: Shows all classes and members.</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              49/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-50">
          <div class="inner">
            
            <header><h3>Exemple de décompilation</h3></header>
            
            
            <section><p>Par exemple, le code précédent décompilé par:</p>
<pre><span></span>javap -c -public  Decompilation &gt; Decompilation.txt
</pre>
<p>donne:</p>
<pre><span></span><span class="n">Compiled</span> <span class="n">from</span> <span class="s">&quot;Decompilation.java&quot;</span>
<span class="kd">class</span> <span class="nc">Decompilation</span> <span class="kd">extends</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Object</span><span class="o">{</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">();</span>
<span class="nl">Code:</span>
 <span class="mi">0</span><span class="o">:</span>  <span class="k">new</span> <span class="err">#</span><span class="mi">2</span><span class="o">;</span> <span class="c1">//class Decompilation</span>
 <span class="mi">3</span><span class="o">:</span>  <span class="n">dup</span>
 <span class="mi">4</span><span class="o">:</span>  <span class="n">invokespecial</span> <span class="err">#</span><span class="mi">3</span><span class="o">;</span> <span class="c1">//Method &quot;&lt;init&gt;&quot;:()V</span>
 <span class="mi">7</span><span class="o">:</span>  <span class="n">astore_0</span>
 <span class="mi">8</span><span class="o">:</span>  <span class="n">aload_0</span>
 <span class="mi">9</span><span class="o">:</span>  <span class="n">invokevirtual</span> <span class="err">#</span><span class="mi">4</span><span class="o">;</span> <span class="c1">//Method test:()I</span>
 <span class="mi">12</span><span class="o">:</span> <span class="n">istore_1</span>
 <span class="mi">13</span><span class="o">:</span> <span class="n">getstatic</span> <span class="err">#</span><span class="mi">5</span><span class="o">;</span> <span class="c1">//Field java/lang/System.out:Ljava/io/PrintStream;</span>
 <span class="mi">16</span><span class="o">:</span> <span class="k">new</span> <span class="err">#</span><span class="mi">6</span><span class="o">;</span> <span class="c1">//class java/lang/StringBuilder</span>
 <span class="mi">19</span><span class="o">:</span> <span class="n">dup</span>
 <span class="mi">20</span><span class="o">:</span> <span class="n">invokespecial</span> <span class="err">#</span><span class="mi">7</span><span class="o">;</span> <span class="c1">//Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V</span>
 <span class="mi">23</span><span class="o">:</span> <span class="n">ldc</span> <span class="err">#</span><span class="mi">8</span><span class="o">;</span> <span class="c1">//String Out:</span>
 <span class="mi">25</span><span class="o">:</span> <span class="n">invokevirtual</span> <span class="err">#</span><span class="mi">9</span><span class="o">;</span> <span class="c1">//Method java/lang/StringBuilder.append:...</span>
 <span class="mi">28</span><span class="o">:</span> <span class="n">iload_1</span>
 <span class="mi">29</span><span class="o">:</span> <span class="n">invokevirtual</span> <span class="err">#</span><span class="mi">10</span><span class="o">;</span> <span class="c1">//Method java/lang/StringBuilder.append:...</span>
 <span class="mi">32</span><span class="o">:</span> <span class="n">invokevirtual</span> <span class="err">#</span><span class="mi">11</span><span class="o">;</span> <span class="c1">//Method java/lang/StringBuilder.toString:...</span>
 <span class="mi">35</span><span class="o">:</span> <span class="n">invokevirtual</span> <span class="err">#</span><span class="mi">12</span><span class="o">;</span> <span class="c1">//Method java/io/PrintStream.println:...</span>
 <span class="mi">38</span><span class="o">:</span> <span class="k">return</span>
<span class="o">}</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              50/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-51">
          <div class="inner">
            
            <header><h2>Chargement dynamique de code</h2></header>
            
            
            <section><p>L'utilisation de <em>bytecode</em> intermédiaire impose de résoudre les dépendances
entre classes lors de l'exécution. Cela n'empêche pas le compilateur de
réaliser des vérifications entre classes, par exemple la présence ou non d'une
fonction appellée sur un objet de type B depuis un objet de type A.</p>
<p>C'est dans le <strong>CLASSPATH</strong> que la machine virtuelle cherche les classes
mentionnées après les directives <strong>import</strong>:</p>
<pre><span></span><span class="kn">import</span> <span class="nn">p.Decompilation</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Chargement</span> <span class="o">{</span>
      <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">()</span> <span class="o">{</span>
          <span class="n">Decompilation</span> <span class="n">d</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Decompilation</span><span class="o">();</span> <span class="o">}}</span>
</pre>
<p>A la compilation, on obtient:</p>
<pre><span></span>javac Chargement.java
Chargement.java:1: package p does not exist
import p.Decompilation;
        ^
1 error
</pre>
<p>ce qui montre que le compilateur cherche <strong>Decompilation</strong> dans le sous
répertoire <strong>p</strong> du <strong>CLASSPATH</strong>. Si celui-ci est situé dans
<strong>unautreendroit</strong>, il faut mettre à jour le <strong>CLASSPATH</strong>:</p>
<pre><span></span>export CLASSPATH=./unautreendroit:$CLASSPATH
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              51/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-52">
          <div class="inner">
            
            <header><h3>Les jar</h3></header>
            
            
            <section><p>La spécification des fichiers <em>jar</em> <a href="#id43"><span class="problematic" id="id11">[JS]_</span></a> décrit l'utilisation du Manifest qui
permet d'ajouter des informations pour l'utilisation du <em>jar</em>. Ce Manifest
contient:</p>
<ul class="simple">
<li>Des informations générales (version, date et auteur, CLASSPATH des
ressources requises).</li>
<li>La classe contenant le <strong>main</strong> si ce jar contient une application qui est
lancée via l'exécution de <strong>java -jar x.jar</strong>.</li>
<li>Des informations pour les applets embarquées dans le <em>jar</em>.</li>
<li>Des informations de signature.</li>
</ul>
<pre><span></span>Manifest-Version: 2.0
Created-By: 1.O (JFL)
Main-Class: p.Decompilation

Name: p/Decompilation.class
Digest_Algorithms: MD5
MD5-Digest: base64(ae322ab9de701f1e79bc2040b26349e9)
</pre>
<p>On peut alors construire et exécuter un <em>jar</em> comme suit:</p>
<pre><span></span>jar cfm executable.jar Manifest.txt p/Decompilation.class
java -jar executable.jar
Out: <span class="m">2</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              52/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-53">
          <div class="inner">
            
            <header><h3>Le CLASSPATH et les jar</h3></header>
            
            
            <section><p>Le <strong>CLASSPATH</strong> donne la liste des emplacements ou la machine virtuelle est
autorisée à charger des classes. S'il s'agit d'un nom de répertoire, il
désigne la racine de l'arborescence correspondante aux <em>packages</em>. Si le
<strong>CLASSPATH</strong> contient des fichiers <em>jar</em>, les classes sont cherchées et chargées directement depuis l'intérieur de l'archive, la racine de l'arborescence correspondant à la racine de l'archive.</p>
<p>L'exemple suivant permet de charger le fichier <strong>./unautreendroit/p/Decompilation.class</strong>, ou le fichier <strong>p/Decompilation.class</strong> à l'intérieur de archive.jar.</p>
<pre><span></span>export CLASSPATH=./unautreendroit:./archive.jar:$CLASSPATH
</pre>
<p>La création d'un <em>jar</em> se fait à l'aide de la commande <em>jar</em>:</p>
<pre><span></span>&gt; <span class="nb">cd</span> unautreendroit
unautreendroit&gt; jar cvf archive.jar */*.class
manifest ajouté
ajout : p/Decompilation.class <span class="o">(</span><span class="m">39</span>% compressés<span class="o">)</span>
</pre>
<p>Comme pour la commande <em>tar</em>, on peut visualiser un <em>jar</em>:</p>
<pre><span></span>jar tf archive.jar
META-INF/MANIFEST.MF
p/Decompilation.class
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              53/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-54">
          <div class="inner">
            
            <header><h2>Packages et modules</h2></header>
            
            
            <section><p>Historiquement, avant Java 9, seuls les <em>packages</em> étaient disponibles pour modulariser le code d'une application. Le nom d'une classe est complet avec son nom de <em>package</em>:</p>
<pre><span></span><span class="kn">import</span> <span class="nn">java.lang.String</span><span class="o">;</span>
</pre>
<p>L'utilisation de <em>packages</em> permet de lever l'ambiguitié lors d'une collision de noms de classes. Il y a aussi une bijection entre le nom du <em>packages</em> et la hiérarchie des répertoire, que ce soit dans un <em>jar</em> ou dans vos sources:</p>
<pre><span></span>jar tf archive.jar
META-INF/MANIFEST.MF
p/Decompilation.class
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              54/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-55">
          <div class="inner">
            
            <header><h3>rt.jar</h3></header>
            
            
            <section><p>Toujours avant Java 9, les classes de bases sont toutes embarqués dans l'archive rt.jar (~60 Mo).</p>
<pre><span></span>.
├── com
│   ├── oracle
│   └── sun
├── java
│   ├── applet
│   ├── awt
│   ├── beans
│   ├── io
│   ├── lang
│   ├── math
│   ├── net
│   ├── nio
│   ├── rmi
│   ├── security
│   ├── sql
│   ├── text
│   ├── <span class="nb">time</span>
│   └── util
├── javax
│   ├── accessibility
...
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              55/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-56">
          <div class="inner">
            
            <header><h3>Retour sur le chargement des classes</h3></header>
            
            
            <section><p>Plusieurs inconvénients sont identifiés:</p>
<ul class="simple">
<li>charger une classe signifie qu'il faut:<ul>
<li>chercher dans rt.jar</li>
<li>chercher dans le CLASSPATH</li>
</ul>
</li>
<li>le chargement est linéaire avec l'ensemble des .jar<ul>
<li>l'une des deux classes identiques du même package sera chargée suivant l'ordre du CLASSPATH</li>
<li>les dépendances d'une classe sont chargées à leur tour</li>
</ul>
</li>
<li>il n'y a pas de modularité de rt.jar, qui grossit avec l'évolution du langage</li>
</ul>
<p>En Java 9, Oracle introduit les <em>modules</em>.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              56/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-57">
          <div class="inner">
            
            <header><h2>Les modules</h2></header>
            
            
            <section><p>Les classes de base sont désormais modularisées dans des fichiers .jmod, pour un total de 191 Mo.</p>
<pre><span></span>ls /usr/lib/jvm/java-11-openjdk-amd64/jmods
java.base.jmod            jdk.attach.jmod          jdk.jlink.jmod
java.compiler.jmod        jdk.charsets.jmod        jdk.jshell.jmod
java.datatransfer.jmod    jdk.compiler.jmod        jdk.jsobject.jmod
java.desktop.jmod         jdk.crypto.cryptoki.jm   jdk.jstatd.jmod
...
</pre>
<p>java.base.jmod fait quand même 124 Mo...</p>
<p>Les jmod sont des fichiers 7z qui  contiennent les .class, comme des .jar, mais dans le sous répertoire <em>classes</em>:</p>
<pre><span></span>7z x java.sql.jmod
tree
.
├── classes
│   ├── java
│   │   └── sql
│   │       ├── Array.class
│   │       ├── BatchUpdateException.class
│   │       ├── Blob.class
│   │       ├── CallableStatement.class
│   │       ├── ClientInfoStatus.class
│   │       ├── Clob.class
│   │       ├── ConnectionBuilder.class
...
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              57/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-58">
          <div class="inner">
            
            <header><h3>Module-info</h3></header>
            
            
            <section><p>Dans un module, un descripteur spécifique nommé <em>module-info</em> va déclarer les packages qui sont
explicitement disponible pour les autres modules.</p>
<p>Le source de ce fichier peut par exemple être:</p>
<dl class="docutils">
<dt>module mon.module {</dt>
<dd>exports mon.module</dd>
</dl>
<p>}</p>
<p>ce qui expose par exemple la classe mon.module.MaClasse.</p>
<p>Par exemple, si l'on interroge le contenu du module java.sql, on obtient:</p>
<pre><span></span>java --describe-module java.sql
java.sql@11.0.4
exports java.sql
exports javax.sql
</pre>
<p>Puisqu'on exporte des packages, on se doute qu'un autre module va importer ces packages.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              58/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-59">
          <div class="inner">
            
            <header><h3>Directives de module-info</h3></header>
            
            
            <section><p>Le Module-info de java.sql contient en effet plus de choses que des <em>exports</em>:</p>
<pre><span></span>java --describe-module java.sql
java.sql@11.0.4
exports java.sql
exports javax.sql
requires java.xml transitive
requires java.base mandated
requires java.transaction.xa transitive
requires java.logging transitive
uses java.sql.Driver
</pre>
<p>ce qui signifie notamment que ce module a besoin du package java.xml pour fonctionner.</p>
<p>Module-info path peut contenir d'autres directives:</p>
<ul class="simple">
<li>requires M: a besoin du module M</li>
<li>requires transitive: a besoin du module M et ses dépendances</li>
<li>uses X: est un consommateur du service X</li>
<li>provides X: fournit une implémentation de service X</li>
<li>opens PKG: autorise la reflection sur PKG</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              59/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-60">
          <div class="inner">
            
            <header><h3>Construction d'un module applicatif</h3></header>
            
            
            <section><img alt="images/appmodule.png" src="images/appmodule.png" style="width: 70%;" />
<img alt="images/idea_module-info_missing.png" src="images/idea_module-info_missing.png" style="width: 80%;" />
<img alt="images/idea_module-info.png" src="images/idea_module-info.png" style="width: 70%;" /></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              60/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-61">
          <div class="inner">
            
            <header><h3>Construction du JAR du module applicatif</h3></header>
            
            
            <section><p>Dans <a class="reference external" href="https://stackoverflow.com/questions/1082580">IntelliJ</a>, il faut générer le JAR depuis &quot;Artifacts&quot;:</p>
<p>File -&gt; Project Structure -&gt; Project Settings -&gt; Artifacts -&gt; Click green plus sign -&gt; Jar -&gt; From modules with dependencies...</p>
<p>On obtient alors dans out/artifacts/MyModule_jar:</p>
<pre><span></span>MyModule.jar

jar tf MyModule.jar
cs/
cs/jfl/
cs/jfl/HelloWorld.class
module-info.class
</pre>
<p>On peut explorer les dépendances de notre module avec l'outil jdep:</p>
<pre><span></span>jdeps MyModule.jar
MyModule
 requires mandated java.base <span class="o">(</span>@11.0.4<span class="o">)</span>
 requires java.sql <span class="o">(</span>@11.0.4<span class="o">)</span>
MyModule -&gt; java.base
MyModule -&gt; java.sql
 cs.jfl  -&gt; java.io         java.base
 cs.jfl  -&gt; java.lang       java.base
 cs.jfl  -&gt; java.sql        java.sql
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              61/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-62">
          <div class="inner">
            
            <header><h3>Module-path</h3></header>
            
            
            <section><p>La variable d'environnement MODULEPATH ou l'option module-path de la ligne de commande se comporte comme CLASSPATH et l'option cp:</p>
<pre><span></span>java --module-path <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span> --module MyModule/cs.jfl.HelloWorld
Hello World !
</pre>
<pre><span></span><span class="nb">export</span> <span class="nv">MODULEPATH</span><span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>
java --module-path <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span> --module MyModule/cs.jfl.HelloWorld
Hello World !
</pre>
<p>Le classpath n'est pas déprécié et peut coexister avec modulepath. Les packages du classpath sont mis par défaut dans le module <strong>unnamed module</strong>, de manière similaire au <strong>default package</strong>. L'unname module peut charger tous les packages des modules et exporte tout ce qu'il contient.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              62/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-63">
          <div class="inner">
            
            <header><h3>Résolution des dépendances</h3></header>
            
            
            <section><p>La JVM est en charge de la résolution des modules au lancement de l'application. Contrairement au chargement des classes au travers du classpath qui était linéaire, le chargement des modules est arborescent: chaque module comportant des directives <em>requires</em> permet à la JVM de chercher directement le module adéquat et de poursuivre le chargement récursivement.</p>
<p>Dans notre exemple, jdep permet de dessiner l'arbre de dépendane du module:</p>
<img alt="images/MyModule.dot.png" src="images/MyModule.dot.png" style="width: 60%;" />
<img alt="images/MyModule.dot-verbose.png" src="images/MyModule.dot-verbose.png" style="width: 100%;" /></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              63/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-64">
          <div class="inner">
            
            <header><h3>Retour sur la visibilité</h3></header>
            
            
            <section><img alt="images/visibility.png" src="images/visibility.png" style="width: 90%;" /></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              64/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-65">
          <div class="inner">
            
            <header><h3>Cheat Sheet</h3></header>
            
            
            <section><p>Jrebel a édité une page A4 qui peut servir de <a class="reference external" href="https://jrebel.com/wp-content/uploads/java-9-modules-cheat-sheet.pdf">mémo sur les modules</a>. C'est assez bien fait pour se l'imprimer et se l'accrocher au dessus de son lit...</p>
<img alt="images/java-9-modules-cheat-sheet.png-1.png" src="images/java-9-modules-cheat-sheet.png-1.png" style="width: 90%;" /></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              65/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-66">
          <div class="inner">
            
            <header><h3>Références</h3></header>
            
            
            <section><p>Quelques liens utiles:</p>
<ul class="simple">
<li><a class="reference external" href="https://openclassrooms.com/fr/courses/26832-apprenez-a-programmer-en-java/5013781-creez-une-jvm-modulaire-avec-java-9">https://openclassrooms.com/fr/courses/26832-apprenez-a-programmer-en-java/5013781-creez-une-jvm-modulaire-avec-java-9</a></li>
<li><a class="reference external" href="https://www.oracle.com/corporate/features/understanding-java-9-modules.html">https://www.oracle.com/corporate/features/understanding-java-9-modules.html</a></li>
<li><a class="reference external" href="https://blog.soat.fr/2017/05/java-9-la-revolution-des-modules/">https://blog.soat.fr/2017/05/java-9-la-revolution-des-modules/</a></li>
<li><a class="reference external" href="https://jrebel.com/rebellabs/java-9-modules-cheat-sheet/">https://jrebel.com/rebellabs/java-9-modules-cheat-sheet/</a></li>
<li><a class="reference external" href="https://jefrajames.wordpress.com/2018/01/12/java-9-discovering-modules/">https://jefrajames.wordpress.com/2018/01/12/java-9-discovering-modules/</a></li>
<li><a class="reference external" href="https://www.logicbig.com/tutorials/core-java-tutorial/modules/unnamed-modules.html">https://www.logicbig.com/tutorials/core-java-tutorial/modules/unnamed-modules.html</a></li>
<li><a class="reference external" href="http://tutorials.jenkov.com/java/modules.html#running-a-java-module">http://tutorials.jenkov.com/java/modules.html#running-a-java-module</a></li>
<li><a class="reference external" href="http://www-igm.univ-mlv.fr/~forax/ens/java-avance/cours/pdf/19-Module-Packaging.pdf">http://www-igm.univ-mlv.fr/~forax/ens/java-avance/cours/pdf/19-Module-Packaging.pdf</a></li>
</ul>
<p>Codes source:</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/jflalande/MyModule">https://github.com/jflalande/MyModule</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              66/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-67">
          <div class="inner">
            
            <header><h1>5&nbsp;&nbsp;&nbsp;Spécicités du langage Java</h1></header>
            
            
            <section><ul class="simple">
<li><a class="reference internal" href="#les-exceptions" id="id39">Les exceptions</a></li>
<li><a class="reference internal" href="#id15" id="id40">Références</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              67/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-68">
          <div class="inner">
            
            <header><h2>Les exceptions</h2></header>
            
            
            <section><p>Une exception est produite lorsqu'une violation est détectée par la JVM, par exemple:</p>
<pre class="code java literal-block">
<span class="keyword declaration">public</span> <span class="keyword declaration">class</span> <span class="name class">Main</span> <span class="operator">{</span>
    <span class="keyword declaration">public</span> <span class="keyword declaration">static</span> <span class="keyword type">void</span> <span class="name function">main</span><span class="operator">(</span><span class="name">String</span><span class="operator">[]</span> <span class="name">args</span><span class="operator">)</span> <span class="operator">{</span>

            <span class="keyword type">int</span> <span class="name">tab</span><span class="operator">[]</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="keyword type">int</span><span class="operator">[</span><span class="literal number integer">10</span><span class="operator">];</span>
            <span class="keyword">for</span> <span class="operator">(</span><span class="keyword type">int</span> <span class="name">i</span> <span class="operator">=</span> <span class="literal number integer">0</span><span class="operator">;</span> <span class="name">i</span> <span class="operator">&lt;=</span> <span class="literal number integer">10</span><span class="operator">;</span> <span class="name">i</span><span class="operator">++)</span>
                <span class="name">System</span><span class="operator">.</span><span class="name attribute">out</span><span class="operator">.</span><span class="name attribute">println</span><span class="operator">(</span><span class="literal string">&quot;Tab[i]=&quot;</span> <span class="operator">+</span> <span class="name">tab</span><span class="operator">[</span><span class="name">i</span><span class="operator">]);</span>
    <span class="operator">}</span>
<span class="operator">}</span>
</pre>
<p>produit en sortie, l'exception:</p>
<pre><span></span>Tab<span class="o">[</span>i<span class="o">]=</span><span class="m">0</span>
Tab<span class="o">[</span>i<span class="o">]=</span><span class="m">0</span>
Exception in thread <span class="s2">&quot;main&quot;</span> java.lang.ArrayIndexOutOfBoundsException: Index <span class="m">10</span> out of bounds <span class="k">for</span> length <span class="m">10</span>
      at Main.main<span class="o">(</span>Main.java:7<span class="o">)</span>
</pre>
<p>Bien sûr cette exception aurait pû être évitée. Mais certaines exceptions sont légitimes et peuvent survenir. Dans ce cas, on peut décider de les capturer.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              68/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-69">
          <div class="inner">
            
            <header><h3>try catch</h3></header>
            
            
            <section><p>Les mots clefs <strong>try</strong> <strong>catch</strong> permettent de protéger tout un bloc de code avec <strong>try</strong> et de renvoyer le flot d'exécution dans le bloc <strong>catch</strong> dont le type correspondant de l'exécution levée.</p>
<pre class="code java literal-block">
<span class="keyword declaration">public</span> <span class="keyword declaration">class</span> <span class="name class">TryCatch</span> <span class="operator">{</span>
    <span class="keyword declaration">public</span> <span class="keyword declaration">static</span> <span class="keyword type">void</span> <span class="name function">main</span><span class="operator">(</span><span class="name">String</span><span class="operator">[]</span> <span class="name">args</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword type">int</span> <span class="name">tab</span><span class="operator">[]</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="keyword type">int</span><span class="operator">[</span><span class="literal number integer">10</span><span class="operator">];</span>
        <span class="keyword">try</span> <span class="operator">{</span>
            <span class="keyword">for</span> <span class="operator">(</span><span class="keyword type">int</span> <span class="name">i</span> <span class="operator">=</span> <span class="literal number integer">0</span><span class="operator">;</span> <span class="name">i</span> <span class="operator">&lt;=</span> <span class="literal number integer">10</span><span class="operator">;</span> <span class="name">i</span><span class="operator">++)</span>
                <span class="name">System</span><span class="operator">.</span><span class="name attribute">out</span><span class="operator">.</span><span class="name attribute">println</span><span class="operator">(</span><span class="literal string">&quot;Tab[i]=&quot;</span> <span class="operator">+</span> <span class="name">tab</span><span class="operator">[</span><span class="name">i</span><span class="operator">]);</span>
        <span class="operator">}</span>
        <span class="keyword">catch</span> <span class="operator">(</span><span class="name">ArrayIndexOutOfBoundsException</span> <span class="name">e</span><span class="operator">)</span>
        <span class="operator">{</span>
            <span class="name">System</span><span class="operator">.</span><span class="name attribute">err</span><span class="operator">.</span><span class="name attribute">println</span><span class="operator">(</span><span class="literal string">&quot;There is an error ! &quot;</span> <span class="operator">+</span> <span class="name">e</span><span class="operator">);</span>
            <span class="name">System</span><span class="operator">.</span><span class="name attribute">exit</span><span class="operator">(-</span><span class="literal number integer">5</span><span class="operator">);</span>
        <span class="operator">}</span>
    <span class="operator">}</span>
<span class="operator">}</span>
</pre>
<p>produit en sortie, l'exception:</p>
<pre><span></span>Tab<span class="o">[</span>i<span class="o">]=</span><span class="m">0</span>
Tab<span class="o">[</span>i<span class="o">]=</span><span class="m">0</span>
There is an error ! java.lang.ArrayIndexOutOfBoundsException: Index <span class="m">10</span> out of bounds <span class="k">for</span> length <span class="m">10</span>

Process finished with <span class="nb">exit</span> code <span class="m">251</span>
</pre>
<p>Le traitement de l'exception dépend du code métier. Dans cet exemple, on ne peut plus rien faire: il faut arrêter le programme.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              69/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-70">
          <div class="inner">
            
            <header><h3>try et multiples catch</h3></header>
            
            
            <section><p>On peut capturer plusieurs exceptions pour un même bloc. L'ordre des exceptions doit respecter la hiérarchie de la classe d'exception: <strong>ClassCastException</strong> hérite d'<strong>Exception</strong> et doit donc être filtrée en premier.</p>
<pre class="code java literal-block">
<span class="keyword declaration">public</span> <span class="keyword declaration">class</span> <span class="name class">TryMCatch</span> <span class="operator">{</span>
    <span class="keyword declaration">public</span> <span class="keyword declaration">static</span> <span class="keyword type">void</span> <span class="name function">main</span><span class="operator">(</span><span class="name">String</span><span class="operator">[]</span> <span class="name">args</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword type">int</span> <span class="name">tab</span><span class="operator">[]</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="keyword type">int</span><span class="operator">[</span><span class="literal number integer">10</span><span class="operator">];</span>
        <span class="keyword">try</span> <span class="operator">{</span>
            <span class="keyword">for</span> <span class="operator">(</span><span class="keyword type">int</span> <span class="name">i</span> <span class="operator">=</span> <span class="literal number integer">0</span><span class="operator">;</span> <span class="name">i</span> <span class="operator">&lt;=</span> <span class="literal number integer">10</span><span class="operator">;</span> <span class="name">i</span><span class="operator">++)</span>
                <span class="name">System</span><span class="operator">.</span><span class="name attribute">out</span><span class="operator">.</span><span class="name attribute">println</span><span class="operator">(</span><span class="literal string">&quot;Tab[i]=&quot;</span> <span class="operator">+</span> <span class="name">tab</span><span class="operator">[</span><span class="name">i</span><span class="operator">]);</span>
        <span class="operator">}</span>
        <span class="keyword">catch</span> <span class="operator">(</span><span class="name">ClassCastException</span> <span class="name">e</span><span class="operator">)</span> <span class="operator">{</span>  <span class="operator">}</span> <span class="comment single">// Erreur de cast !
</span>        <span class="keyword">catch</span> <span class="operator">(</span><span class="name">ArrayIndexOutOfBoundsException</span> <span class="name">e</span><span class="operator">)</span> <span class="operator">{</span> <span class="comment single">// Dépassement de bornes
</span>            <span class="name">System</span><span class="operator">.</span><span class="name attribute">err</span><span class="operator">.</span><span class="name attribute">println</span><span class="operator">(</span><span class="literal string">&quot;There is an error but we can continue.&quot;</span><span class="operator">);</span>
        <span class="operator">}</span> <span class="keyword">catch</span> <span class="operator">(</span><span class="name">Exception</span> <span class="operator">|</span> <span class="name">Error</span> <span class="name">e</span><span class="operator">)</span> <span class="operator">{</span> <span class="comment single">// Union d'exceptions
</span>            <span class="name">System</span><span class="operator">.</span><span class="name attribute">err</span><span class="operator">.</span><span class="name attribute">println</span><span class="operator">(</span><span class="literal string">&quot;There is a more general error ! Abort ! &quot;</span> <span class="operator">+</span> <span class="name">e</span><span class="operator">);</span>
            <span class="name">System</span><span class="operator">.</span><span class="name attribute">exit</span><span class="operator">(-</span><span class="literal number integer">5</span><span class="operator">);</span>
        <span class="operator">}</span>
    <span class="operator">}</span>
<span class="operator">}</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              70/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-71">
          <div class="inner">
            
            <header><h3>finally</h3></header>
            
            
            <section><p>Enfin, le bloc <strong>finally</strong> permet de placer du code à réaliser dans tous les cas (exception levée ou pas).</p>
<pre><span></span><span class="k">try</span> <span class="o">{</span>

    <span class="c1">// code à protéger qui peut lever une exception</span>
<span class="o">}</span>
<span class="k">catch</span><span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>

    <span class="c1">// Traitement d&#39;une exception</span>
<span class="o">}</span>
<span class="k">finally</span> <span class="o">{</span>

    <span class="c1">// finally block: toujours executé</span>
    <span class="c1">// code de nettoyage ou autre comportement à faire dans tous les cas</span>
<span class="o">}</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              71/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-72">
          <div class="inner">
            
            <header><h3>finally pour la fermeture des fichiers</h3></header>
            
            
            <section><p>On utilise par exemple <strong>finally</strong> pour fermer un fichier, qu'on ait réussi à le lire ou pas. S'il y a une exception on a la garantie de passer par le bloc <strong>finally</strong>.</p>
<pre><span></span><span class="n">BufferedReader</span> <span class="n">br</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">FileReader</span><span class="o">(</span><span class="n">path</span><span class="o">));</span>
    <span class="k">try</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">br</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">br</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="n">br</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span>
</pre>
<p>Cependant, ce n'est pas très élégant, notamment car on doit tester si br est null ou pas.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              72/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-73">
          <div class="inner">
            
            <header><h3>Le statement try-with-resources</h3></header>
            
            
            <section><p>Afin d'éviter le bloc <strong>finally</strong> précédent, Java 7 introduit la notion de <em>try avec ressources</em> qui va automatiser l'appel à <strong>.close()</strong> des objets créés, s'ils implémentent l'interface <strong>java.lang.AutoCloseable</strong>.</p>
<pre class="code java literal-block">
<span class="keyword namespace">import</span> <span class="name namespace">java.io.BufferedReader</span><span class="operator">;</span>
<span class="keyword namespace">import</span> <span class="name namespace">java.io.FileReader</span><span class="operator">;</span>
<span class="keyword namespace">import</span> <span class="name namespace">java.io.IOException</span><span class="operator">;</span>

<span class="keyword declaration">public</span> <span class="keyword declaration">class</span> <span class="name class">TryWithResources</span> <span class="operator">{</span>
    <span class="keyword declaration">public</span> <span class="keyword declaration">static</span> <span class="keyword type">void</span> <span class="name function">main</span><span class="operator">(</span><span class="name">String</span><span class="operator">[]</span> <span class="name">args</span><span class="operator">)</span> <span class="operator">{</span>

        <span class="keyword">try</span> <span class="operator">{</span>
            <span class="name">String</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">readFirstLineFromFile</span><span class="operator">(</span><span class="literal string">&quot;toto&quot;</span><span class="operator">);</span>
        <span class="operator">}</span> <span class="keyword">catch</span> <span class="operator">(</span><span class="name">IOException</span> <span class="name">e</span><span class="operator">)</span> <span class="operator">{</span>
            <span class="name">e</span><span class="operator">.</span><span class="name attribute">printStackTrace</span><span class="operator">();</span>
        <span class="operator">}</span>
    <span class="operator">}</span>
    <span class="keyword declaration">static</span> <span class="name">String</span> <span class="name function">readFirstLineFromFile</span><span class="operator">(</span><span class="name">String</span> <span class="name">path</span><span class="operator">)</span> <span class="keyword declaration">throws</span> <span class="name">IOException</span> <span class="operator">{</span>
        <span class="keyword">try</span> <span class="operator">(</span><span class="name">BufferedReader</span> <span class="name">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="name">BufferedReader</span><span class="operator">(</span><span class="keyword">new</span> <span class="name">FileReader</span><span class="operator">(</span><span class="name">path</span><span class="operator">)))</span>
        <span class="operator">{</span>
            <span class="keyword">return</span> <span class="name">br</span><span class="operator">.</span><span class="name attribute">readLine</span><span class="operator">();</span>
        <span class="operator">}</span>
    <span class="operator">}</span>
<span class="operator">}</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              73/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-74">
          <div class="inner">
            
            <header><h3>checked / unchecked</h3></header>
            
            
            <section><p>L'exception <strong>ArrayIndexOutOfBoundsException</strong> vue précédemment était en fait une <strong>RuntimeException</strong>. Dans la hiérarchie des exceptions, elle est marquée <strong>unchecked</strong> ce qui signifie qu'il n'est pas obligatoire de la protéger par un bloc <strong>try catch</strong>. La hiérarchie des exceptions et les marqueurs <strong>checked</strong> / <strong>unchecked</strong> est en fait la suivante:</p>
<pre><span></span>              ---&gt; Throwable &lt;---
              <span class="p">|</span>    <span class="o">(</span>checked<span class="o">)</span>     <span class="p">|</span>
              <span class="p">|</span>                  <span class="p">|</span>
              <span class="p">|</span>                  <span class="p">|</span>
      ---&gt; Exception           Error
      <span class="p">|</span>    <span class="o">(</span>checked<span class="o">)</span>        <span class="o">(</span>unchecked<span class="o">)</span>
      <span class="p">|</span>
RuntimeException
  <span class="o">(</span>unchecked<span class="o">)</span>
</pre>
<ul class="simple">
<li><strong>checked</strong>: ces exceptions peuvent arriver et le développeur doit explicitement traiter l'exception.</li>
<li><strong>unchecked</strong>:<ul>
<li>exceptions: ces sont en général des vérifications qui sont faites à l'exécution et que l'on a pas pu vérifier à la compilation, e.g. <strong>ClassCastException</strong></li>
<li>errors: ce sont des exceptions assez grave pour, en général, ne pas pouvoir faire de traitements pour récupérer l'erreur, e.g. <strong>StackOverflowError</strong> ou <strong>OutOfMemoryError</strong>.</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              74/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-75">
          <div class="inner">
            
            <header><h3>Hiérarchie des exceptions</h3></header>
            
            
            <section><img alt="images/jlrf0901.gif" src="images/jlrf0901.gif" style="width: 90%;" />
<p>extrait de Java Language Reference, Mark Grand.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              75/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-76">
          <div class="inner">
            
            <header><h3>Hiérarchie des erreurs</h3></header>
            
            
            <section><img alt="images/jlrf0902.gif" src="images/jlrf0902.gif" style="width: 80%;" />
<p>extrait de Java Language Reference, Mark Grand.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              76/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-77">
          <div class="inner">
            
            <header><h3>Throw</h3></header>
            
            
            <section><p>Le mot clef <strong>throw</strong> permet de lever une exception. La méthode concernée, doit, dans sa déclaration signaler qu'une exception peut être remontée (si elle est <strong>checked</strong>).</p>
<pre class="code java literal-block">
<span class="keyword declaration">public</span> <span class="keyword declaration">class</span> <span class="name class">Throw</span> <span class="operator">{</span>
    <span class="keyword declaration">public</span> <span class="keyword declaration">static</span> <span class="keyword type">void</span> <span class="name function">main</span><span class="operator">(</span><span class="name">String</span><span class="operator">[]</span> <span class="name">args</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">try</span> <span class="operator">{</span>
            <span class="name">f</span><span class="operator">(</span><span class="literal number integer">0</span><span class="operator">);</span>
            <span class="name">f</span><span class="operator">(</span><span class="literal number integer">1</span><span class="operator">);</span>
        <span class="operator">}</span> <span class="keyword">catch</span> <span class="operator">(</span><span class="name">MyException</span> <span class="name">e</span><span class="operator">)</span> <span class="operator">{</span>
            <span class="name">e</span><span class="operator">.</span><span class="name attribute">printStackTrace</span><span class="operator">();</span>
        <span class="operator">}</span>
    <span class="operator">}</span>
    <span class="keyword declaration">private</span> <span class="keyword declaration">static</span> <span class="keyword type">void</span> <span class="name function">f</span><span class="operator">(</span><span class="keyword type">int</span> <span class="name">i</span><span class="operator">)</span> <span class="keyword declaration">throws</span> <span class="name">MyException</span> <span class="operator">{</span>
        <span class="keyword">if</span> <span class="operator">(</span><span class="name">i</span> <span class="operator">==</span><span class="literal number integer">1</span><span class="operator">)</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="name">MyException</span><span class="operator">(</span><span class="literal string">&quot;C'est grave: i ne doit pas valoir 1 !&quot;</span><span class="operator">);</span>
    <span class="operator">}</span>

    <span class="keyword declaration">private</span> <span class="keyword declaration">static</span> <span class="keyword declaration">class</span> <span class="name class">MyException</span> <span class="keyword declaration">extends</span> <span class="name">Exception</span> <span class="operator">{</span>
        <span class="keyword declaration">public</span> <span class="name function">MyException</span><span class="operator">(</span><span class="name">String</span> <span class="name">s</span><span class="operator">)</span> <span class="operator">{</span>
            <span class="keyword declaration">super</span><span class="operator">(</span><span class="name">s</span><span class="operator">);</span>
        <span class="operator">}</span>
    <span class="operator">}</span>
<span class="operator">}</span>
</pre>
<pre><span></span>Throw<span class="nv">$MyException</span>: C<span class="err">&#39;</span>est grave: i ne doit pas valoir <span class="m">1</span> !
      at Throw.f<span class="o">(</span>Throw.java:12<span class="o">)</span>
      at Throw.main<span class="o">(</span>Throw.java:5<span class="o">)</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              77/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-78">
          <div class="inner">
            
            <header><h3>Chaine d'exceptions</h3></header>
            
            
            <section><pre class="code java literal-block">
<span class="keyword declaration">public</span> <span class="keyword declaration">class</span> <span class="name class">ThrowChain</span> <span class="operator">{</span>
    <span class="keyword declaration">public</span> <span class="keyword declaration">static</span> <span class="keyword type">void</span> <span class="name function">main</span><span class="operator">(</span><span class="name">String</span><span class="operator">[]</span> <span class="name">args</span><span class="operator">)</span> <span class="keyword declaration">throws</span> <span class="name">MyFatalException</span> <span class="operator">{</span>
        <span class="keyword">try</span> <span class="operator">{</span>
            <span class="name">f</span><span class="operator">(</span><span class="literal number integer">0</span><span class="operator">);</span>
            <span class="name">f</span><span class="operator">(</span><span class="literal number integer">1</span><span class="operator">);</span>
        <span class="operator">}</span> <span class="keyword">catch</span> <span class="operator">(</span><span class="name">MyException</span> <span class="name">e</span><span class="operator">)</span> <span class="operator">{</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="name">MyFatalException</span><span class="operator">();</span>
            <span class="comment single">// ou bien, si on veut forwarder, directement throw e
</span>        <span class="operator">}</span>
    <span class="operator">}</span>
    <span class="keyword declaration">private</span> <span class="keyword declaration">static</span> <span class="keyword type">void</span> <span class="name function">f</span><span class="operator">(</span><span class="keyword type">int</span> <span class="name">i</span><span class="operator">)</span> <span class="keyword declaration">throws</span> <span class="name">MyException</span> <span class="operator">{</span>
        <span class="keyword">if</span> <span class="operator">(</span><span class="name">i</span> <span class="operator">==</span><span class="literal number integer">1</span><span class="operator">)</span>
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="name">MyException</span><span class="operator">(</span><span class="literal string">&quot;C'est grave: i ne doit pas valoir 1 !&quot;</span><span class="operator">);</span>
    <span class="operator">}</span>
    <span class="keyword declaration">private</span> <span class="keyword declaration">static</span> <span class="keyword declaration">class</span> <span class="name class">MyException</span> <span class="keyword declaration">extends</span> <span class="name">Exception</span> <span class="operator">{</span>
        <span class="keyword declaration">public</span> <span class="name function">MyException</span><span class="operator">(</span><span class="name">String</span> <span class="name">s</span><span class="operator">)</span> <span class="operator">{</span>
            <span class="keyword declaration">super</span><span class="operator">(</span><span class="name">s</span><span class="operator">);</span>
        <span class="operator">}</span>
    <span class="operator">}</span>
    <span class="keyword declaration">private</span> <span class="keyword declaration">static</span> <span class="keyword declaration">class</span> <span class="name class">MyFatalException</span> <span class="keyword declaration">extends</span> <span class="name">Error</span> <span class="operator">{</span>
    <span class="operator">}</span>
<span class="operator">}</span>
</pre>
<pre><span></span>Exception in thread <span class="s2">&quot;main&quot;</span> ThrowChain<span class="nv">$MyFatalException</span>
      at ThrowChain.main<span class="o">(</span>ThrowChain.java:7<span class="o">)</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              78/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-79">
          <div class="inner">
            
            <header><h2>Références</h2></header>
            
            
            <section><ul class="simple">
<li><a class="reference external" href="https://docstore.mik.ua/orelly/java/langref/index.htm">Java Language Reference By Mark Grand; 1-56592-326-X, 2nd Edition July 1997</a></li>
<li><a class="reference external" href="https://stackabuse.com/exception-handling-in-java-a-complete-guide-with-best-and-worst-practices/">Exception Handling in Java: A Complete Guide with Best and Worst Practices</a></li>
</ul>
<p>Codes source:</p>
<p><a class="reference external" href="https://github.com/jflalande/Exceptions">https://github.com/jflalande/Exceptions</a></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              79/80
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: poo.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-80">
          <div class="inner">
            
            <header><h1>6&nbsp;&nbsp;&nbsp;Divers</h1></header>
            
            
            <section><p>On ne l'a pas fait, c'est important, on peut en parler:</p>
<ul class="simple">
<li>Les exceptions</li>
<li>Les collections</li>
<li>HTTP</li>
</ul>
<p>Java avancé:</p>
<ul class="simple">
<li>La <strong>généricité</strong></li>
<li>La <strong>réfléxivité</strong></li>
<li>La <strong>programmation concurrente</strong></li>
<li>Java <strong>NIO</strong></li>
<li>Les lambdas</li>
<li>Java FX</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            
            <aside class="source">
              Source: <a href="poo.rst">poo.rst</a>
            </aside>
            
            <aside class="page_number">
              80/80
            </aside>
          </footer>
        </div>
      </div>
      
    </div>
  </div>
  
  <div id="toc" class="sidebar hidden">
    <h2>Table of Contents</h2>
    <table>
      <caption>Table of Contents</caption>

<!-- macro for generating subsection of TOC -->

<!-- end of macro -->

      <!-- generating sections of TOC -->
      
      <tr id="toc-row-1">
        <th><a href="#slide:1">POO et Java</a></th>
        <td><a href="#slide:1">1</a></td>
      </tr>
      
      
      <tr id="toc-row-2">
        <th><a href="#slide:2">1&nbsp;&nbsp;&nbsp;Plan</a></th>
        <td><a href="#slide:2">2</a></td>
      </tr>
      
      
      <tr id="toc-row-3">
        <th><a href="#slide:3">2&nbsp;&nbsp;&nbsp;Historique et syntaxe</a></th>
        <td><a href="#slide:3">3</a></td>
      </tr>
      
         <!-- generating subsections of TOC -->
         
         
        
        <tr id="toc-row-4" class="sub">
          <th><a href="#slide:4">Bref historique</a></th>
          <td><a href="#slide:4">4</a></td>
        </tr>
        
        
        <tr id="toc-row-5" class="sub">
          <th><a href="#slide:5">La syntaxe en 3 minutes</a></th>
          <td><a href="#slide:5">5</a></td>
        </tr>
        
        
      
      
      <tr id="toc-row-6">
        <th><a href="#slide:6">3&nbsp;&nbsp;&nbsp;Programmation orientée objet</a></th>
        <td><a href="#slide:6">6</a></td>
      </tr>
      
         <!-- generating subsections of TOC -->
         
         
        
        <tr id="toc-row-7" class="sub">
          <th><a href="#slide:7">Les concepts de la POO</a></th>
          <td><a href="#slide:7">7</a></td>
        </tr>
        
        
        <tr id="toc-row-8" class="sub">
          <th><a href="#slide:8">L'objet</a></th>
          <td><a href="#slide:8">8</a></td>
        </tr>
        
        
        <tr id="toc-row-9" class="sub">
          <th><a href="#slide:9">La classe</a></th>
          <td><a href="#slide:9">9</a></td>
        </tr>
        
        
        <tr id="toc-row-12" class="sub">
          <th><a href="#slide:12">Soi-même: this et self</a></th>
          <td><a href="#slide:12">12</a></td>
        </tr>
        
        
        <tr id="toc-row-13" class="sub">
          <th><a href="#slide:13">Le constructeur</a></th>
          <td><a href="#slide:13">13</a></td>
        </tr>
        
        
        <tr id="toc-row-17" class="sub">
          <th><a href="#slide:17">Visibilité et masquage des données</a></th>
          <td><a href="#slide:17">17</a></td>
        </tr>
        
        
        <tr id="toc-row-22" class="sub">
          <th><a href="#slide:22">La composition</a></th>
          <td><a href="#slide:22">22</a></td>
        </tr>
        
        
        <tr id="toc-row-26" class="sub">
          <th><a href="#slide:26">Généralisation et spécialisation</a></th>
          <td><a href="#slide:26">26</a></td>
        </tr>
        
        
        <tr id="toc-row-35" class="sub">
          <th><a href="#slide:35">Polymorphisme</a></th>
          <td><a href="#slide:35">35</a></td>
        </tr>
        
        
        <tr id="toc-row-44" class="sub">
          <th><a href="#slide:44">Références</a></th>
          <td><a href="#slide:44">44</a></td>
        </tr>
        
        
      
      
      <tr id="toc-row-45">
        <th><a href="#slide:45">4&nbsp;&nbsp;&nbsp;La machine virtuelle Java</a></th>
        <td><a href="#slide:45">45</a></td>
      </tr>
      
         <!-- generating subsections of TOC -->
         
         
        
        <tr id="toc-row-46" class="sub">
          <th><a href="#slide:46">Machine virtuelle Java</a></th>
          <td><a href="#slide:46">46</a></td>
        </tr>
        
        
        <tr id="toc-row-47" class="sub">
          <th><a href="#slide:47">Le bytecode</a></th>
          <td><a href="#slide:47">47</a></td>
        </tr>
        
        
        <tr id="toc-row-51" class="sub">
          <th><a href="#slide:51">Chargement dynamique de code</a></th>
          <td><a href="#slide:51">51</a></td>
        </tr>
        
        
        <tr id="toc-row-54" class="sub">
          <th><a href="#slide:54">Packages et modules</a></th>
          <td><a href="#slide:54">54</a></td>
        </tr>
        
        
        <tr id="toc-row-57" class="sub">
          <th><a href="#slide:57">Les modules</a></th>
          <td><a href="#slide:57">57</a></td>
        </tr>
        
        
      
      
      <tr id="toc-row-67">
        <th><a href="#slide:67">5&nbsp;&nbsp;&nbsp;Spécicités du langage Java</a></th>
        <td><a href="#slide:67">67</a></td>
      </tr>
      
         <!-- generating subsections of TOC -->
         
         
        
        <tr id="toc-row-68" class="sub">
          <th><a href="#slide:68">Les exceptions</a></th>
          <td><a href="#slide:68">68</a></td>
        </tr>
        
        
        <tr id="toc-row-79" class="sub">
          <th><a href="#slide:79">Références</a></th>
          <td><a href="#slide:79">79</a></td>
        </tr>
        
        
      
      
      <tr id="toc-row-80">
        <th><a href="#slide:80">6&nbsp;&nbsp;&nbsp;Divers</a></th>
        <td><a href="#slide:80">80</a></td>
      </tr>
      
      
    </table>
  </div>
  
  <div id="help" class="sidebar hidden">
    <h2>Help</h2>
    <table>
      <caption>Help</caption>
      <tr>
        <th>Table of Contents</th>
        <td>t</td>
      </tr>
      <tr>
        <th>Exposé</th>
        <td>ESC</td>
      </tr>
      <tr>
        <th>Presenter View</th>
        <td>p</td>
      </tr>
      <tr>
        <th>Source Files</th>
        <td>s</td>
      </tr>
      <tr>
        <th>Slide Numbers</th>
        <td>n</td>
      </tr>
      <tr>
        <th>Toggle screen blanking</th>
        <td>b</td>
      </tr>
      <tr>
        <th>Show/hide next slide</th>
        <td>c</td>
      </tr>
      <tr>
        <th>Notes</th>
        <td>2</td>
      </tr>
      <tr>
        <th>Help</th>
        <td>h</td>
      </tr>
    </table>
    <br>
    <strong>Generated with Darkslide 4.0.1</strong>
  </div>
  <script>main()</script>
</body>
</html>